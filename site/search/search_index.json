{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Crater - Documentaci\u00f3n T\u00e9cnica","text":""},{"location":"#introduccion","title":"\ud83d\ude80 Introducci\u00f3n","text":"<p>Crater es una aplicaci\u00f3n web y m\u00f3vil de c\u00f3digo abierto que te ayuda a gestionar gastos, pagos y crear facturas y cotizaciones profesionales. Es una soluci\u00f3n completa de facturaci\u00f3n para peque\u00f1as empresas y freelancers.</p>"},{"location":"#arquitectura-del-sistema","title":"\ud83c\udfd7\ufe0f Arquitectura del Sistema","text":"<p>Crater est\u00e1 construido con tecnolog\u00edas modernas y robustas:</p> <ul> <li>Backend: Laravel Framework (PHP 8.2+)</li> <li>Frontend: Vue.js 3 con Composition API</li> <li>Base de Datos: MySQL / PostgreSQL / SQLite</li> <li>Autenticaci\u00f3n: Laravel Sanctum</li> <li>API: RESTful API completa</li> <li>Build Tools: Vite para optimizaci\u00f3n de assets</li> </ul>"},{"location":"#caracteristicas-principales","title":"\u2728 Caracter\u00edsticas Principales","text":""},{"location":"#gestion-de-facturas","title":"\ud83d\udcbc Gesti\u00f3n de Facturas","text":"<ul> <li>Creaci\u00f3n y env\u00edo de facturas profesionales</li> <li>Plantillas personalizables</li> <li>M\u00faltiples monedas y idiomas</li> <li>Facturas recurrentes</li> </ul>"},{"location":"#cotizaciones-y-estimaciones","title":"\ud83d\udcca Cotizaciones y Estimaciones","text":"<ul> <li>Generaci\u00f3n de cotizaciones</li> <li>Conversi\u00f3n autom\u00e1tica a facturas</li> <li>Seguimiento de estados</li> </ul>"},{"location":"#gestion-de-clientes","title":"\ud83d\udc65 Gesti\u00f3n de Clientes","text":"<ul> <li>Portal del cliente</li> <li>Historial completo de transacciones</li> <li>Comunicaci\u00f3n integrada</li> </ul>"},{"location":"#multi-empresa","title":"\ud83c\udfe2 Multi-empresa","text":"<ul> <li>Soporte para m\u00faltiples empresas</li> <li>Gesti\u00f3n independiente de datos</li> <li>Configuraciones personalizadas</li> </ul>"},{"location":"#aplicaciones-moviles","title":"\ud83d\udcf1 Aplicaciones M\u00f3viles","text":"<ul> <li>Apps nativas para iOS y Android</li> <li>Sincronizaci\u00f3n en tiempo real</li> <li>Funcionalidad offline</li> </ul>"},{"location":"#stack-tecnologico","title":"\ud83d\udee0\ufe0f Stack Tecnol\u00f3gico","text":""},{"location":"#backend","title":"Backend","text":"<pre><code>graph TD\n    A[Laravel 12] --&gt; B[PHP 8.2+]\n    A --&gt; C[MySQL/PostgreSQL]\n    A --&gt; D[Redis Cache]\n    A --&gt; E[Queue Jobs]\n    A --&gt; F[Laravel Sanctum]\n</code></pre>"},{"location":"#frontend","title":"Frontend","text":"<pre><code>graph TD\n    A[Vue.js 3] --&gt; B[Composition API]\n    A --&gt; C[Pinia Store]\n    A --&gt; D[Vue Router]\n    A --&gt; E[Tailwind CSS]\n    A --&gt; F[Vite Build]\n</code></pre>"},{"location":"#navegacion-de-la-documentacion","title":"\ud83d\udcda Navegaci\u00f3n de la Documentaci\u00f3n","text":""},{"location":"#instalacion","title":"\ud83d\ude80 Instalaci\u00f3n","text":"<p>Gu\u00eda completa para instalar Crater en tu servidor</p>"},{"location":"#arquitectura","title":"\ud83c\udfd7\ufe0f Arquitectura","text":"<p>Comprende la estructura y componentes del sistema</p>"},{"location":"#api","title":"\ud83d\udd0c API","text":"<p>Documentaci\u00f3n completa de la API RESTful</p>"},{"location":"#desarrollo","title":"\ud83d\udcbb Desarrollo","text":"<p>Configuraci\u00f3n del entorno de desarrollo</p>"},{"location":"#despliegue","title":"\ud83d\ude80 Despliegue","text":"<p>Gu\u00edas para desplegar en producci\u00f3n</p>"},{"location":"#contribuir","title":"\ud83e\udd1d Contribuir","text":"<p>C\u00f3mo contribuir al proyecto</p>"},{"location":"#casos-de-uso","title":"\ud83c\udfaf Casos de Uso","text":"<p>Peque\u00f1as Empresas</p> <p>Gesti\u00f3n completa de facturaci\u00f3n para peque\u00f1os negocios con necesidades b\u00e1sicas de contabilidad.</p> <p>Freelancers</p> <p>Herramienta perfecta para profesionales independientes que necesitan facturar clientes.</p> <p>Agencias</p> <p>Gesti\u00f3n multi-cliente con facturaci\u00f3n por proyectos y tiempo.</p>"},{"location":"#requisitos-minimos","title":"\ud83d\udd27 Requisitos M\u00ednimos","text":"Componente Versi\u00f3n M\u00ednima Recomendada PHP 8.2 8.3+ MySQL 5.7 8.0+ Node.js 18.x 20.x+ RAM 512MB 2GB+ Storage 1GB 5GB+"},{"location":"#comunidad-y-soporte","title":"\ud83e\udd1d Comunidad y Soporte","text":"<ul> <li>GitHub: crater-invoice/crater</li> <li>Website: crater.financial</li> <li>Documentaci\u00f3n: docs.crater.financial</li> </ul>"},{"location":"#licencia","title":"\ud83d\udcc4 Licencia","text":"<p>Crater se distribuye bajo la licencia MIT.  Ver LICENSE para m\u00e1s detalles.</p> <p>\u00bfListo para comenzar?</p>              \ud83d\ude80 Comenzar Instalaci\u00f3n"},{"location":"ACTIVE_FILTER_ANALYSIS/","title":"An\u00e1lisis del Filtro \"Activo\" - Dashboard InvoiceShelf","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#resumen-del-analisis","title":"Resumen del An\u00e1lisis","text":"<p>Este documento detalla el an\u00e1lisis realizado para implementar el filtro \"Activo\" en el dashboard de InvoiceShelf, que permitir\u00e1 mostrar solo elementos activos/vigentes.</p>"},{"location":"ACTIVE_FILTER_ANALYSIS/#estructura-actual-del-dashboard","title":"Estructura Actual del Dashboard","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#frontend-vuejs","title":"Frontend (Vue.js)","text":"<ul> <li>Admin Dashboard: <code>resources/scripts/admin/views/dashboard/Dashboard.vue</code></li> <li>Customer Dashboard: <code>resources/scripts/customer/views/dashboard/Dashboard.vue</code></li> <li>Componentes principales:</li> <li><code>DashboardStats.vue</code> - Tarjetas de estad\u00edsticas</li> <li><code>DashboardTable.vue</code> - Tablas de elementos recientes</li> <li><code>DashboardChart.vue</code> - Gr\u00e1ficos financieros (solo admin)</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#backend-laravel","title":"Backend (Laravel)","text":"<ul> <li>Admin Controller: <code>app/Http/Controllers/V1/Admin/Dashboard/DashboardController.php</code></li> <li>Customer Controller: <code>app/Http/Controllers/V1/Customer/General/DashboardController.php</code></li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#stores-pinia","title":"Stores (Pinia)","text":"<ul> <li>Admin Store: <code>resources/scripts/admin/stores/dashboard.js</code></li> <li>Customer Store: <code>resources/scripts/customer/stores/dashboard.js</code></li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#entidades-y-estados-identificados","title":"Entidades y Estados Identificados","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#1-invoices-facturas","title":"1. Invoices (Facturas)","text":"<p>Estados disponibles: - <code>DRAFT</code> - Borrador - <code>SENT</code> - Enviada - <code>VIEWED</code> - Vista - <code>COMPLETED</code> - Completada - <code>UNPAID</code> - No pagada - <code>PARTIALLY_PAID</code> - Parcialmente pagada - <code>PAID</code> - Pagada</p> <p>Criterio \"Activo\": Facturas con estado <code>SENT</code>, <code>VIEWED</code> y paid_status <code>UNPAID</code>, <code>PARTIALLY_PAID</code> (excluir <code>DRAFT</code>, <code>COMPLETED</code>, <code>PAID</code>)</p>"},{"location":"ACTIVE_FILTER_ANALYSIS/#2-estimates-presupuestos","title":"2. Estimates (Presupuestos)","text":"<p>Estados disponibles: - <code>DRAFT</code> - Borrador - <code>SENT</code> - Enviado - <code>VIEWED</code> - Visto - <code>EXPIRED</code> - Expirado - <code>ACCEPTED</code> - Aceptado - <code>REJECTED</code> - Rechazado</p> <p>Criterio \"Activo\": Presupuestos con estado <code>SENT</code>, <code>VIEWED</code> (excluir <code>DRAFT</code>, <code>EXPIRED</code>, <code>ACCEPTED</code>, <code>REJECTED</code>)</p>"},{"location":"ACTIVE_FILTER_ANALYSIS/#3-customers-clientes","title":"3. Customers (Clientes)","text":"<p>Campos relevantes: - <code>enable_portal</code> - Boolean para acceso al portal - No hay campo de estado espec\u00edfico</p> <p>Criterio \"Activo\": Clientes con <code>enable_portal = true</code> y que tengan facturas o presupuestos activos</p>"},{"location":"ACTIVE_FILTER_ANALYSIS/#4-payments-pagos","title":"4. Payments (Pagos)","text":"<p>Consideraci\u00f3n: Los pagos no tienen estados de \"activo/inactivo\" por naturaleza, se consideran siempre v\u00e1lidos una vez creados.</p>"},{"location":"ACTIVE_FILTER_ANALYSIS/#implementacion-realizada","title":"Implementaci\u00f3n Realizada","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#1-dashboard-stores-actualizados","title":"1. Dashboard Stores Actualizados \u2705","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#admin-store-resourcesscriptsadminstoresdashboardjs","title":"Admin Store (<code>resources/scripts/admin/stores/dashboard.js</code>)","text":"<pre><code>// Nuevo estado agregado\nactiveFilter: {\n  enabled: false,\n  persistKey: 'dashboard_active_filter',\n}\n\n// Nuevos getters\nisActiveFilterEnabled: (state) =&gt; state.activeFilter.enabled\n\n// Nuevas acciones\n- toggleActiveFilter()\n- setActiveFilter(enabled)\n- persistActiveFilter()\n- loadActiveFilter()\n- initialize()\n</code></pre>"},{"location":"ACTIVE_FILTER_ANALYSIS/#customer-store-resourcesscriptscustomerstoresdashboardjs","title":"Customer Store (<code>resources/scripts/customer/stores/dashboard.js</code>)","text":"<pre><code>// Mismo patr\u00f3n implementado con clave diferente\npersistKey: 'customer_dashboard_active_filter'\n</code></pre>"},{"location":"ACTIVE_FILTER_ANALYSIS/#2-backend-controllers-actualizados","title":"2. Backend Controllers Actualizados \u2705","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#admin-dashboard-controller","title":"Admin Dashboard Controller","text":"<ul> <li>\u2705 Acepta par\u00e1metro <code>active_only</code> (boolean)</li> <li>\u2705 Filtrado implementado en todas las consultas:</li> <li>Invoices: <code>whereIn('status', ['SENT', 'VIEWED'])-&gt;whereIn('paid_status', ['UNPAID', 'PARTIALLY_PAID'])</code></li> <li>Estimates: <code>whereIn('status', ['SENT', 'VIEWED'])</code></li> <li>Customers: <code>where('enable_portal', true)</code> + relaciones activas</li> <li>Chart data: Filtrado aplicado a totales mensuales</li> <li>\u2705 Respuesta incluye <code>active_filter_applied</code> para debugging</li> <li>\u2705 Documentaci\u00f3n PHPDoc actualizada</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#customer-dashboard-controller","title":"Customer Dashboard Controller","text":"<ul> <li>\u2705 Acepta par\u00e1metro <code>active_only</code> (boolean)</li> <li>\u2705 Filtrado implementado en todas las consultas:</li> <li>Invoices: <code>whereIn('status', ['SENT', 'VIEWED'])-&gt;whereIn('paid_status', ['UNPAID', 'PARTIALLY_PAID'])</code></li> <li>Estimates: <code>whereIn('status', ['SENT', 'VIEWED'])</code></li> <li>Payments: Sin filtro (siempre activos)</li> <li>\u2705 Respuesta incluye <code>active_filter_applied</code> para debugging</li> <li>\u2705 Documentaci\u00f3n PHPDoc actualizada</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#3-tests-automatizados-implementados","title":"3. Tests Automatizados Implementados \u2705","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#admin-dashboard-tests-testsfeatureadmindashboardtestphp","title":"Admin Dashboard Tests (<code>tests/Feature/Admin/DashboardTest.php</code>)","text":"<ul> <li>\u2705 Test b\u00e1sico de dashboard sin filtro</li> <li>\u2705 Test de dashboard con filtro activo</li> <li>\u2705 Test de filtrado correcto de invoices</li> <li>\u2705 Test de filtrado correcto de estimates</li> <li>\u2705 Test de filtrado correcto de customers</li> <li>\u2705 Test de variaciones de par\u00e1metros boolean</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#customer-dashboard-tests-testsfeaturecustomerdashboardtestphp","title":"Customer Dashboard Tests (<code>tests/Feature/Customer/DashboardTest.php</code>)","text":"<ul> <li>\u2705 Test b\u00e1sico de dashboard sin filtro</li> <li>\u2705 Test de dashboard con filtro activo</li> <li>\u2705 Test de filtrado correcto de invoices</li> <li>\u2705 Test de filtrado correcto de estimates</li> <li>\u2705 Test de variaciones de par\u00e1metros boolean</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#4-funcionalidades-implementadas","title":"4. Funcionalidades Implementadas","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#persistencia","title":"Persistencia","text":"<ul> <li>Estado del filtro guardado en <code>localStorage</code></li> <li>Claves separadas para admin y customer</li> <li>Recuperaci\u00f3n autom\u00e1tica al inicializar</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#api-integration","title":"API Integration","text":"<ul> <li>Par\u00e1metro <code>active_only=true</code> enviado cuando el filtro est\u00e1 activo</li> <li>Recarga autom\u00e1tica de datos al cambiar el filtro</li> <li>\u2705 Backend procesa correctamente el par\u00e1metro</li> <li>\u2705 Filtrado aplicado a todas las consultas relevantes</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#gestion-de-estado","title":"Gesti\u00f3n de Estado","text":"<ul> <li>Getters para acceso reactivo al estado</li> <li>Acciones para toggle y set del filtro</li> <li>Manejo de errores en persistencia</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#proximos-pasos","title":"Pr\u00f3ximos Pasos","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#paso-2-backend-implementation-completado","title":"~~Paso 2: Backend Implementation~~ \u2705 COMPLETADO","text":"<ol> <li>\u2705 Modificar <code>DashboardController.php</code> para aceptar <code>active_only</code> parameter</li> <li>\u2705 Implementar l\u00f3gica de filtrado en consultas</li> <li>\u2705 Agregar tests PHPUnit</li> <li>\u2705 Documentar con PHPDoc</li> </ol>"},{"location":"ACTIVE_FILTER_ANALYSIS/#paso-3-frontend-ui","title":"Paso 3: Frontend UI","text":"<ol> <li>Crear componente toggle para el filtro</li> <li>Integrar en <code>DashboardStats.vue</code></li> <li>Agregar indicadores visuales del estado del filtro</li> <li>Implementar transiciones suaves</li> </ol>"},{"location":"ACTIVE_FILTER_ANALYSIS/#paso-4-setup-base-del-modo-oscuro","title":"Paso 4: Setup Base del Modo Oscuro","text":"<ol> <li>Configurar <code>darkMode: 'class'</code> en <code>tailwind.config.js</code></li> <li>Crear store para el tema (<code>useThemeStore</code>)</li> <li>Implementar persistencia en localStorage</li> <li>Crear composable <code>useTheme</code> para manejo del tema</li> </ol>"},{"location":"ACTIVE_FILTER_ANALYSIS/#consideraciones-tecnicas","title":"Consideraciones T\u00e9cnicas","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#performance","title":"Performance","text":"<ul> <li>El filtro puede reducir significativamente el volumen de datos</li> <li>Considerar \u00edndices en campos de estado para optimizaci\u00f3n</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#ux","title":"UX","text":"<ul> <li>El filtro debe ser claramente visible pero no intrusivo</li> <li>Estado persistente mejora la experiencia del usuario</li> <li>Indicadores visuales cuando el filtro est\u00e1 activo</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#compatibilidad","title":"Compatibilidad","text":"<ul> <li>Implementaci\u00f3n backward-compatible</li> <li>Par\u00e1metro opcional en API</li> <li>Fallback graceful si localStorage no est\u00e1 disponible</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#seguridad","title":"Seguridad","text":"<ul> <li>Validaci\u00f3n de par\u00e1metros en backend</li> <li>Autorizaci\u00f3n mantenida en todas las consultas</li> <li>Tests cubren casos edge</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#criterios-de-aceptacion","title":"Criterios de Aceptaci\u00f3n","text":"<ul> <li>\u2705 Filtro funcional en admin dashboard (backend)</li> <li>\u2705 Filtro funcional en customer dashboard (backend)</li> <li>\u2705 Estado persistente entre sesiones (frontend)</li> <li>\u2705 API backend soporta par\u00e1metro <code>active_only</code></li> <li>\u2705 Tests automatizados implementados</li> <li>\u2705 Documentaci\u00f3n completa</li> <li>[ ] UX intuitiva y responsive (Paso 3)</li> </ul>"},{"location":"ACTIVE_FILTER_ANALYSIS/#detalles-de-implementacion-backend","title":"Detalles de Implementaci\u00f3n Backend","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#logica-de-filtrado-implementada","title":"L\u00f3gica de Filtrado Implementada","text":""},{"location":"ACTIVE_FILTER_ANALYSIS/#para-invoices-facturas","title":"Para Invoices (Facturas)","text":"<pre><code>if ($activeOnly) {\n    $query-&gt;whereIn('status', [\n        Invoice::STATUS_SENT,\n        Invoice::STATUS_VIEWED\n    ])-&gt;whereIn('paid_status', [\n        Invoice::STATUS_UNPAID,\n        Invoice::STATUS_PARTIALLY_PAID\n    ]);\n}\n</code></pre>"},{"location":"ACTIVE_FILTER_ANALYSIS/#para-estimates-presupuestos","title":"Para Estimates (Presupuestos)","text":"<pre><code>if ($activeOnly) {\n    $query-&gt;whereIn('status', [\n        Estimate::STATUS_SENT,\n        Estimate::STATUS_VIEWED\n    ]);\n}\n</code></pre>"},{"location":"ACTIVE_FILTER_ANALYSIS/#para-customers-clientes","title":"Para Customers (Clientes)","text":"<pre><code>if ($activeOnly) {\n    $query-&gt;where('enable_portal', true)\n        -&gt;where(function ($query) {\n            $query-&gt;whereHas('invoices', function ($subQuery) {\n                $subQuery-&gt;whereIn('status', [\n                    Invoice::STATUS_SENT,\n                    Invoice::STATUS_VIEWED\n                ])-&gt;whereIn('paid_status', [\n                    Invoice::STATUS_UNPAID,\n                    Invoice::STATUS_PARTIALLY_PAID\n                ]);\n            })-&gt;orWhereHas('estimates', function ($subQuery) {\n                $subQuery-&gt;whereIn('status', [\n                    Estimate::STATUS_SENT,\n                    Estimate::STATUS_VIEWED\n                ]);\n            });\n        });\n}\n</code></pre>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/","title":"Paso 3 - Implementaci\u00f3n del Frontend para Filtro Activo","text":""},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#resumen","title":"Resumen","text":"<p>Implementaci\u00f3n completa de la interfaz de usuario para el filtro \"Activo\" en los dashboards de admin y customer, incluyendo componente reutilizable, integraci\u00f3n con stores y persistencia de estado.</p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#componentes-implementados","title":"Componentes Implementados","text":""},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#1-componente-activefiltervue","title":"1. Componente ActiveFilter.vue","text":"<p>Ubicaci\u00f3n: <code>resources/scripts/components/dashboard/ActiveFilter.vue</code></p> <p>Caracter\u00edsticas: - Componente Vue 3 reutilizable con Composition API - Switch toggle con estados de loading - Indicador visual \"Active\" con animaciones - Icono de filtro que cambia de color seg\u00fan el estado - Spinner de loading durante las operaciones - Accesibilidad completa con labels y IDs \u00fanicos</p> <p>Props: - <code>modelValue</code> (Boolean): Estado actual del filtro - <code>loading</code> (Boolean): Estado de carga - <code>id</code> (String): ID \u00fanico para el switch</p> <p>Eventos: - <code>update:modelValue</code>: Actualizaci\u00f3n del estado</p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#2-integracion-en-dashboard-admin","title":"2. Integraci\u00f3n en Dashboard Admin","text":"<p>Ubicaci\u00f3n: <code>resources/scripts/admin/views/dashboard/Dashboard.vue</code></p> <p>Cambios: - Importaci\u00f3n del componente ActiveFilter - Integraci\u00f3n con useDashboardStore - Inicializaci\u00f3n autom\u00e1tica del store con estado persistido - Handler para cambios del filtro</p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#3-integracion-en-dashboard-customer","title":"3. Integraci\u00f3n en Dashboard Customer","text":"<p>Ubicaci\u00f3n: <code>resources/scripts/customer/views/dashboard/Dashboard.vue</code></p> <p>Cambios: - Misma implementaci\u00f3n que admin dashboard - Uso del store espec\u00edfico del customer - Inicializaci\u00f3n autom\u00e1tica</p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#4-mejoras-en-stores","title":"4. Mejoras en Stores","text":""},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#admin-dashboard-store","title":"Admin Dashboard Store","text":"<p>Ubicaci\u00f3n: <code>resources/scripts/admin/stores/dashboard.js</code></p> <p>Nuevas caracter\u00edsticas: - Propiedad <code>isLoading</code> para estados de carga - Manejo de loading en <code>loadData()</code> - Estados de loading en catch blocks</p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#customer-dashboard-store","title":"Customer Dashboard Store","text":"<p>Ubicaci\u00f3n: <code>resources/scripts/customer/stores/dashboard.js</code></p> <p>Nuevas caracter\u00edsticas: - Propiedad <code>isLoading</code> para estados de carga - Manejo de loading en <code>loadData()</code> - Estados de loading en catch blocks</p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#5-traducciones","title":"5. Traducciones","text":"<p>Ubicaci\u00f3n: <code>lang/en.json</code></p> <p>Nuevas etiquetas: <pre><code>\"active_filter\": {\n  \"label\": \"Show Active Only\",\n  \"description\": \"Display only active invoices, estimates, and customers\",\n  \"active\": \"Active\"\n}\n</code></pre></p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#funcionalidades-implementadas","title":"Funcionalidades Implementadas","text":""},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#1-persistencia-de-estado","title":"1. Persistencia de Estado","text":"<ul> <li>El estado del filtro se guarda en localStorage</li> <li>Claves separadas para admin y customer</li> <li>Carga autom\u00e1tica al inicializar</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#2-integracion-con-api","title":"2. Integraci\u00f3n con API","text":"<ul> <li>Par\u00e1metro <code>active_only</code> enviado autom\u00e1ticamente</li> <li>Recarga de datos cuando cambia el filtro</li> <li>Manejo de estados de loading</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#3-uxui-mejorada","title":"3. UX/UI Mejorada","text":"<ul> <li>Transiciones suaves para el badge \"Active\"</li> <li>Estados de loading visibles</li> <li>Hover effects en el contenedor</li> <li>Dise\u00f1o responsive y accesible</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#4-componente-reutilizable","title":"4. Componente Reutilizable","text":"<ul> <li>Usado tanto en admin como customer dashboard</li> <li>Props configurables</li> <li>Eventos est\u00e1ndar de Vue</li> <li>Estilos consistentes con el design system</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#testing","title":"Testing","text":""},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#1-test-de-integracion","title":"1. Test de Integraci\u00f3n","text":"<p>Ubicaci\u00f3n: <code>tests/Feature/ActiveFilterTest.php</code></p> <p>Cobertura: - Acceso al dashboard con y sin filtro activo - Manejo correcto de par\u00e1metros booleanos - Consistencia de estructura de datos - 4 tests, 23 assertions</p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#2-tests-existentes","title":"2. Tests Existentes","text":"<ul> <li>Todos los tests de dashboard (admin y customer) siguen pasando</li> <li>16 tests totales, 126 assertions</li> <li>Cobertura completa de funcionalidad</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#estructura-de-archivos","title":"Estructura de Archivos","text":"<pre><code>resources/scripts/\n\u251c\u2500\u2500 components/dashboard/\n\u2502   \u2514\u2500\u2500 ActiveFilter.vue                 # Componente principal\n\u251c\u2500\u2500 admin/\n\u2502   \u251c\u2500\u2500 views/dashboard/Dashboard.vue    # Dashboard admin actualizado\n\u2502   \u2514\u2500\u2500 stores/dashboard.js              # Store admin actualizado\n\u2514\u2500\u2500 customer/\n    \u251c\u2500\u2500 views/dashboard/Dashboard.vue    # Dashboard customer actualizado\n    \u2514\u2500\u2500 stores/dashboard.js              # Store customer actualizado\n\nlang/\n\u2514\u2500\u2500 en.json                              # Traducciones actualizadas\n\ntests/Feature/\n\u2514\u2500\u2500 ActiveFilterTest.php                 # Tests de integraci\u00f3n\n\ndocs/\n\u2514\u2500\u2500 STEP_3_FRONTEND_IMPLEMENTATION.md   # Esta documentaci\u00f3n\n</code></pre>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#caracteristicas-tecnicas","title":"Caracter\u00edsticas T\u00e9cnicas","text":""},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#1-vue-3-composition-api","title":"1. Vue 3 Composition API","text":"<ul> <li>Uso de <code>computed</code>, <code>ref</code> y <code>emit</code></li> <li>Props tipadas con validaci\u00f3n</li> <li>Eventos est\u00e1ndar de Vue</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#2-tailwind-css","title":"2. Tailwind CSS","text":"<ul> <li>Clases utilitarias para styling</li> <li>Responsive design</li> <li>Estados hover y focus</li> <li>Animaciones con transition</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#3-pinia-store-integration","title":"3. Pinia Store Integration","text":"<ul> <li>Getters reactivos</li> <li>Actions as\u00edncronas</li> <li>Persistencia en localStorage</li> <li>Manejo de errores</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#4-accesibilidad","title":"4. Accesibilidad","text":"<ul> <li>Labels asociados correctamente</li> <li>IDs \u00fanicos generados autom\u00e1ticamente</li> <li>Estados de focus visibles</li> <li>Indicadores de loading</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#estado-del-proyecto","title":"Estado del Proyecto","text":""},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#completado","title":"\u2705 Completado","text":"<ul> <li>Componente ActiveFilter funcional</li> <li>Integraci\u00f3n en ambos dashboards</li> <li>Persistencia de estado</li> <li>Tests de integraci\u00f3n</li> <li>Documentaci\u00f3n completa</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#proximos-pasos","title":"\ud83d\udd04 Pr\u00f3ximos Pasos","text":"<ul> <li>Paso 4: Implementaci\u00f3n de Dark Mode</li> <li>Paso 5: Redesign del Dashboard</li> <li>Paso 6: Testing Final</li> </ul>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#notas-de-implementacion","title":"Notas de Implementaci\u00f3n","text":"<ol> <li>Compatibilidad: El componente es compatible con el sistema de iconos existente (BaseIcon)</li> <li>Performance: Los estados de loading evitan m\u00faltiples requests simult\u00e1neos</li> <li>Mantenibilidad: C\u00f3digo bien documentado y estructurado</li> <li>Escalabilidad: Componente reutilizable para futuros filtros</li> </ol>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#correcciones-aplicadas","title":"Correcciones Aplicadas","text":""},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#error-de-proxy-corregido","title":"Error de Proxy Corregido","text":"<p>Problema: <code>'set' on proxy: trap returned falsish for property 'isActiveFilterEnabled'</code></p> <p>Causa: Uso incorrecto de <code>v-model</code> con un getter computed del store</p> <p>Soluci\u00f3n: - Cambio de <code>v-model</code> a <code>:model-value</code> y <code>@update:model-value</code> - Eliminaci\u00f3n del evento <code>change</code> duplicado - Uso directo del getter del store sin intentar modificarlo</p> <p>Archivos corregidos: - <code>resources/scripts/admin/views/dashboard/Dashboard.vue</code> - <code>resources/scripts/customer/views/dashboard/Dashboard.vue</code> - <code>resources/scripts/components/dashboard/ActiveFilter.vue</code></p>"},{"location":"STEP_3_FRONTEND_IMPLEMENTATION/#comandos-de-verificacion","title":"Comandos de Verificaci\u00f3n","text":"<pre><code># Ejecutar tests espec\u00edficos del filtro activo\nphp artisan test tests/Feature/ActiveFilterTest.php\n\n# Ejecutar todos los tests de dashboard\nphp artisan test --filter=Dashboard\n\n# Verificar que no hay regresiones\nphp artisan test tests/Feature/Admin/DashboardTest.php\nphp artisan test tests/Feature/Customer/DashboardTest.php\n</code></pre>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/","title":"Paso 4 - Implementaci\u00f3n de Dark Mode","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#resumen","title":"Resumen","text":"<p>Implementaci\u00f3n completa del modo oscuro con toggle y persistencia para InvoiceShelf, incluyendo configuraci\u00f3n de Tailwind CSS, store de tema, componente toggle y integraci\u00f3n en layouts.</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#configuracion-de-tailwind-css","title":"Configuraci\u00f3n de Tailwind CSS","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#1-habilitacion-de-dark-mode","title":"1. Habilitaci\u00f3n de Dark Mode","text":"<p>Archivo: <code>tailwind.config.js</code></p> <p>Cambios: - Agregado <code>darkMode: 'class'</code> para habilitar el modo oscuro basado en clases CSS - Permite el control program\u00e1tico del tema mediante la clase <code>dark</code> en el elemento HTML</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#store-de-tema","title":"Store de Tema","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#1-theme-store","title":"1. Theme Store","text":"<p>Ubicaci\u00f3n: <code>resources/scripts/stores/theme.js</code></p> <p>Caracter\u00edsticas: - Store Pinia para manejo centralizado del estado del tema - Persistencia en localStorage con clave <code>invoiceshelf_dark_mode</code> - Detecci\u00f3n autom\u00e1tica de preferencias del sistema - Aplicaci\u00f3n autom\u00e1tica de clases CSS al documento</p> <p>Estado: - <code>isDarkMode</code>: Boolean que indica si el modo oscuro est\u00e1 activo - <code>persistKey</code>: Clave para localStorage</p> <p>Getters: - <code>currentTheme</code>: Retorna 'dark' o 'light' - <code>oppositeTheme</code>: Retorna el tema opuesto</p> <p>Acciones: - <code>toggleDarkMode()</code>: Alterna entre modos - <code>setDarkMode(enabled)</code>: Establece modo espec\u00edfico - <code>applyTheme()</code>: Aplica clases CSS al documento - <code>persistTheme()</code>: Guarda preferencia en localStorage - <code>loadTheme()</code>: Carga preferencia desde localStorage - <code>getSystemPreference()</code>: Detecta preferencia del sistema - <code>initialize()</code>: Inicializa el store y escucha cambios del sistema - <code>resetToSystemPreference()</code>: Resetea a preferencia del sistema</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#componente-dark-mode-toggle","title":"Componente Dark Mode Toggle","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#1-darkmodetogglevue","title":"1. DarkModeToggle.vue","text":"<p>Ubicaci\u00f3n: <code>resources/scripts/components/theme/DarkModeToggle.vue</code></p> <p>Caracter\u00edsticas: - Componente Vue 3 reutilizable con Composition API - Switch toggle con iconos animados (Sol/Luna) - Indicador de tema actual con badge - Estados de loading opcionales - Configuraci\u00f3n flexible de etiquetas y descripciones</p> <p>Props: - <code>showLabel</code> (Boolean): Mostrar etiqueta y descripci\u00f3n - <code>showDescription</code> (Boolean): Mostrar texto descriptivo - <code>loading</code> (Boolean): Estado de carga - <code>id</code> (String): ID \u00fanico para el switch</p> <p>Eventos: - <code>change</code>: Emitido cuando cambia el estado del tema</p> <p>Iconos: - <code>SunIcon</code>: Modo claro (amarillo) - <code>MoonIcon</code>: Modo oscuro (azul) - Transiciones suaves entre iconos</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#integracion-en-layouts","title":"Integraci\u00f3n en Layouts","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#1-layout-admin","title":"1. Layout Admin","text":"<p>Archivo: <code>resources/scripts/admin/layouts/LayoutBasic.vue</code></p> <p>Cambios: - Importaci\u00f3n del <code>useThemeStore</code> - Inicializaci\u00f3n del theme store en <code>onMounted</code> - Configuraci\u00f3n autom\u00e1tica al cargar la aplicaci\u00f3n</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#2-layout-customer","title":"2. Layout Customer","text":"<p>Archivo: <code>resources/scripts/customer/layouts/LayoutBasic.vue</code></p> <p>Cambios: - Importaci\u00f3n del <code>useThemeStore</code> - Inicializaci\u00f3n del theme store en funci\u00f3n <code>loadData</code> - Configuraci\u00f3n autom\u00e1tica al cargar la aplicaci\u00f3n</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#3-header-admin","title":"3. Header Admin","text":"<p>Archivo: <code>resources/scripts/admin/layouts/partials/TheSiteHeader.vue</code></p> <p>Cambios: - Agregado toggle de dark mode en la barra de navegaci\u00f3n - Posicionado entre CompanySwitcher y dropdown de usuario - Estilo consistente con otros elementos del header - Fondo semi-transparente con hover effects</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#4-header-customer","title":"4. Header Customer","text":"<p>Archivo: <code>resources/scripts/customer/layouts/partials/TheSiteHeader.vue</code></p> <p>Cambios: - Agregado toggle de dark mode antes del dropdown de perfil - Integraci\u00f3n limpia con el dise\u00f1o existente - Responsive design mantenido</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#soporte-de-dark-mode-en-componentes","title":"Soporte de Dark Mode en Componentes","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#1-activefiltervue","title":"1. ActiveFilter.vue","text":"<p>Actualizaciones aplicadas: - <code>bg-white dark:bg-gray-800</code>: Fondo del contenedor - <code>border-gray-200 dark:border-gray-700</code>: Bordes - <code>text-gray-900 dark:text-gray-100</code>: Texto principal - <code>text-gray-500 dark:text-gray-400</code>: Texto secundario - <code>bg-primary-100 dark:bg-primary-900</code>: Badge de estado activo - <code>text-primary-800 dark:text-primary-200</code>: Texto del badge</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#traducciones","title":"Traducciones","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#1-archivo-de-idioma","title":"1. Archivo de Idioma","text":"<p>Ubicaci\u00f3n: <code>lang/en.json</code></p> <p>Nuevas traducciones: <pre><code>\"theme\": {\n  \"dark_mode\": {\n    \"label\": \"Dark Mode\",\n    \"description\": \"Toggle between light and dark themes\",\n    \"dark\": \"Dark\",\n    \"light\": \"Light\"\n  }\n}\n</code></pre></p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#caracteristicas-tecnicas","title":"Caracter\u00edsticas T\u00e9cnicas","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#1-persistencia","title":"1. Persistencia","text":"<ul> <li>Preferencias guardadas en localStorage</li> <li>Claves separadas para admin y customer (si fuera necesario)</li> <li>Carga autom\u00e1tica al inicializar la aplicaci\u00f3n</li> <li>Fallback a preferencias del sistema</li> </ul>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#2-deteccion-del-sistema","title":"2. Detecci\u00f3n del Sistema","text":"<ul> <li>Escucha cambios en <code>prefers-color-scheme</code></li> <li>Actualizaci\u00f3n autom\u00e1tica si no hay preferencia guardada</li> <li>Respeta preferencias expl\u00edcitas del usuario</li> </ul>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#3-aplicacion-de-tema","title":"3. Aplicaci\u00f3n de Tema","text":"<ul> <li>Manipulaci\u00f3n de clases CSS en <code>document.documentElement</code></li> <li>Clase <code>dark</code> agregada/removida din\u00e1micamente</li> <li>Transiciones suaves entre temas</li> </ul>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#4-accesibilidad","title":"4. Accesibilidad","text":"<ul> <li>Labels apropiados para screen readers</li> <li>Focus states bien definidos</li> <li>Contraste adecuado en ambos temas</li> <li>Indicadores visuales claros</li> </ul>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#testing","title":"Testing","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#1-tests-existentes","title":"1. Tests Existentes","text":"<ul> <li>Todos los tests del filtro activo siguen pasando</li> <li>No hay regresiones en funcionalidad existente</li> <li>Compatibilidad mantenida con componentes base</li> </ul>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#2-verificacion-manual","title":"2. Verificaci\u00f3n Manual","text":"<ul> <li>Toggle funciona correctamente en ambos portales</li> <li>Persistencia funciona entre sesiones</li> <li>Iconos cambian apropiadamente</li> <li>Transiciones son suaves</li> </ul>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#notas-de-implementacion","title":"Notas de Implementaci\u00f3n","text":"<ol> <li>Compatibilidad: Totalmente compatible con el sistema existente</li> <li>Performance: M\u00ednimo impacto en rendimiento</li> <li>Mantenibilidad: C\u00f3digo bien estructurado y documentado</li> <li>Escalabilidad: F\u00e1cil agregar soporte a m\u00e1s componentes</li> <li>UX: Experiencia de usuario intuitiva y consistente</li> </ol>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#proximos-pasos","title":"Pr\u00f3ximos Pasos","text":"<p>Para completar el soporte de dark mode: 1. Agregar clases dark mode a m\u00e1s componentes base 2. Actualizar componentes de formularios 3. Revisar gr\u00e1ficos y charts 4. Testear en diferentes navegadores 5. Optimizar transiciones y animaciones</p>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#archivos-modificados","title":"Archivos Modificados","text":""},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#nuevos-archivos","title":"Nuevos Archivos:","text":"<ul> <li><code>resources/scripts/stores/theme.js</code></li> <li><code>resources/scripts/components/theme/DarkModeToggle.vue</code></li> <li><code>docs/STEP_4_DARK_MODE_IMPLEMENTATION.md</code></li> </ul>"},{"location":"STEP_4_DARK_MODE_IMPLEMENTATION/#archivos-modificados_1","title":"Archivos Modificados:","text":"<ul> <li><code>tailwind.config.js</code></li> <li><code>lang/en.json</code></li> <li><code>resources/scripts/admin/layouts/LayoutBasic.vue</code></li> <li><code>resources/scripts/customer/layouts/LayoutBasic.vue</code></li> <li><code>resources/scripts/admin/layouts/partials/TheSiteHeader.vue</code></li> <li><code>resources/scripts/customer/layouts/partials/TheSiteHeader.vue</code></li> <li><code>resources/scripts/components/dashboard/ActiveFilter.vue</code> </li> </ul>"},{"location":"api/introduction/","title":"\ud83d\udd0c API Introduction","text":"<p>Crater proporc### \ud83d\udd11 Autenticaci\u00f3n</p> <p>Crater utiliza Laravel Sanctum para autenticaci\u00f3n API.a una API RESTful completa que permite integrar la funcionalidad de facturaci\u00f3n en aplicaciones externas.</p>"},{"location":"api/introduction/#caracteristicas-de-la-api","title":"\ud83d\ude80 Caracter\u00edsticas de la API","text":""},{"location":"api/introduction/#funcionalidades-principales","title":"\u2728 Funcionalidades Principales","text":"<ul> <li>\ud83d\udcc4 Gesti\u00f3n de Facturas - CRUD completo</li> <li>\ud83d\udc65 Gesti\u00f3n de Clientes - Registro y administraci\u00f3n</li> <li>\ud83d\udce6 Gesti\u00f3n de Productos - Cat\u00e1logo de items</li> <li>\ud83d\udcb0 Procesamiento de Pagos - Registro de pagos</li> <li>\ud83d\udcca Reportes y Estad\u00edsticas - Datos anal\u00edticos</li> <li>\ud83c\udfe2 Multi-empresa - Soporte para m\u00faltiples organizaciones</li> </ul>"},{"location":"api/introduction/#caracteristicas-tecnicas","title":"\ud83d\udee1\ufe0f Caracter\u00edsticas T\u00e9cnicas","text":"<ul> <li>Autenticaci\u00f3n: Laravel Sanctum (Bearer Token)</li> <li>Formato: JSON (Request/Response)</li> <li>Versionado: API versionada (<code>/api/v1/</code>)</li> <li>Rate Limiting: 60 requests/minuto por defecto</li> <li>CORS: Configurado para cross-origin requests</li> <li>Paginaci\u00f3n: Autom\u00e1tica en colecciones grandes</li> <li>Filtros: Query parameters para filtrado avanzado</li> </ul>"},{"location":"api/introduction/#base-url","title":"\ud83c\udf10 Base URL","text":"<pre><code>https://tu-dominio.com/api/v1/\n</code></pre>"},{"location":"api/introduction/#ambientes","title":"Ambientes","text":"Ambiente Base URL Prop\u00f3sito Producci\u00f3n <code>https://app.crater.financial/api/v1/</code> Datos reales Staging <code>https://staging.crater.financial/api/v1/</code> Testing Local <code>http://localhost:8000/api/v1/</code> Desarrollo"},{"location":"api/introduction/#autenticacion","title":"\ud83d\udd11 Autenticaci\u00f3n","text":"<p>InvoiceShelf utiliza Laravel Sanctum para autenticaci\u00f3n API.</p>"},{"location":"api/introduction/#obtener-token-de-acceso","title":"Obtener Token de Acceso","text":"<pre><code>POST /api/v1/auth/login\nContent-Type: application/json\n\n{\n  \"email\": \"admin@example.com\",\n  \"password\": \"password\",\n  \"device_name\": \"Mi Aplicaci\u00f3n\"\n}\n</code></pre> <p>Respuesta: <pre><code>{\n  \"data\": {\n    \"token\": \"1|abc123def456...\",\n    \"user\": {\n      \"id\": 1,\n      \"name\": \"Admin User\",\n      \"email\": \"admin@example.com\",\n      \"company_id\": 1\n    }\n  }\n}\n</code></pre></p>"},{"location":"api/introduction/#usar-token-en-requests","title":"Usar Token en Requests","text":"<pre><code>GET /api/v1/invoices\nAuthorization: Bearer 1|abc123def456...\nAccept: application/json\n</code></pre>"},{"location":"api/introduction/#logout","title":"Logout","text":"<pre><code>POST /api/v1/auth/logout\nAuthorization: Bearer 1|abc123def456...\n</code></pre>"},{"location":"api/introduction/#estructura-de-respuestas","title":"\ud83d\udccb Estructura de Respuestas","text":""},{"location":"api/introduction/#respuesta-exitosa-200","title":"Respuesta Exitosa (200)","text":"<pre><code>{\n  \"data\": {\n    \"id\": 1,\n    \"invoice_number\": \"INV-001\",\n    \"customer\": {\n      \"id\": 1,\n      \"name\": \"Cliente Ejemplo\"\n    }\n  },\n  \"meta\": {\n    \"timestamp\": \"2024-01-15T10:30:00Z\",\n    \"version\": \"1.0.0\"\n  }\n}\n</code></pre>"},{"location":"api/introduction/#respuesta-de-coleccion","title":"Respuesta de Colecci\u00f3n","text":"<pre><code>{\n  \"data\": [\n    {\n      \"id\": 1,\n      \"invoice_number\": \"INV-001\"\n    },\n    {\n      \"id\": 2,\n      \"invoice_number\": \"INV-002\"\n    }\n  ],\n  \"links\": {\n    \"first\": \"https://api.example.com/invoices?page=1\",\n    \"last\": \"https://api.example.com/invoices?page=5\",\n    \"prev\": null,\n    \"next\": \"https://api.example.com/invoices?page=2\"\n  },\n  \"meta\": {\n    \"current_page\": 1,\n    \"per_page\": 15,\n    \"total\": 67,\n    \"last_page\": 5\n  }\n}\n</code></pre>"},{"location":"api/introduction/#respuesta-de-error","title":"Respuesta de Error","text":"<pre><code>{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Los datos proporcionados no son v\u00e1lidos.\",\n    \"details\": {\n      \"email\": [\"El campo email es obligatorio.\"],\n      \"amount\": [\"El campo amount debe ser un n\u00famero.\"]\n    }\n  },\n  \"meta\": {\n    \"timestamp\": \"2024-01-15T10:30:00Z\",\n    \"request_id\": \"req_abc123\"\n  }\n}\n</code></pre>"},{"location":"api/introduction/#codigos-de-estado-http","title":"\ud83d\udd22 C\u00f3digos de Estado HTTP","text":"C\u00f3digo Significado Uso 200 OK Request exitoso 201 Created Recurso creado exitosamente 204 No Content Eliminaci\u00f3n exitosa 400 Bad Request Datos inv\u00e1lidos 401 Unauthorized Token inv\u00e1lido/expirado 403 Forbidden Sin permisos 404 Not Found Recurso no encontrado 422 Unprocessable Entity Errores de validaci\u00f3n 429 Too Many Requests Rate limit excedido 500 Internal Server Error Error del servidor"},{"location":"api/introduction/#rate-limiting","title":"\ud83d\udcca Rate Limiting","text":""},{"location":"api/introduction/#limites-por-defecto","title":"L\u00edmites por Defecto","text":"Endpoint L\u00edmite Ventana Auth 5 requests 1 minuto API General 60 requests 1 minuto Reports 30 requests 1 minuto"},{"location":"api/introduction/#headers-de-rate-limit","title":"Headers de Rate Limit","text":"<pre><code>X-RateLimit-Limit: 60\nX-RateLimit-Remaining: 59\nX-RateLimit-Reset: 1642248300\n</code></pre>"},{"location":"api/introduction/#error-de-rate-limit","title":"Error de Rate Limit","text":"<pre><code>{\n  \"error\": {\n    \"code\": \"RATE_LIMIT_EXCEEDED\",\n    \"message\": \"Demasiadas peticiones. Intenta de nuevo en 60 segundos.\"\n  }\n}\n</code></pre>"},{"location":"api/introduction/#filtros-y-paginacion","title":"\ud83d\udd0d Filtros y Paginaci\u00f3n","text":""},{"location":"api/introduction/#query-parameters","title":"Query Parameters","text":"<pre><code>GET /api/v1/invoices?status=sent&amp;customer_id=1&amp;per_page=20&amp;page=2\n</code></pre>"},{"location":"api/introduction/#filtros-comunes","title":"Filtros Comunes","text":"Parameter Descripci\u00f3n Ejemplo <code>status</code> Filtrar por estado <code>?status=sent</code> <code>search</code> B\u00fasqueda en texto <code>?search=INV-001</code> <code>date_from</code> Fecha desde <code>?date_from=2024-01-01</code> <code>date_to</code> Fecha hasta <code>?date_to=2024-01-31</code> <code>customer_id</code> ID del cliente <code>?customer_id=1</code>"},{"location":"api/introduction/#paginacion","title":"Paginaci\u00f3n","text":"Parameter Descripci\u00f3n Default <code>page</code> N\u00famero de p\u00e1gina 1 <code>per_page</code> Items por p\u00e1gina 15"},{"location":"api/introduction/#ordenamiento","title":"Ordenamiento","text":"<pre><code>GET /api/v1/invoices?sort=created_at&amp;order=desc\n</code></pre> Parameter Descripci\u00f3n Valores <code>sort</code> Campo de ordenamiento <code>created_at</code>, <code>total</code>, <code>invoice_number</code> <code>order</code> Direcci\u00f3n <code>asc</code>, <code>desc</code>"},{"location":"api/introduction/#recursos-principales","title":"\ud83d\udcda Recursos Principales","text":""},{"location":"api/introduction/#facturas","title":"\ud83d\udcc4 Facturas","text":"<pre><code># Listar facturas\nGET /api/v1/invoices\n\n# Obtener factura\nGET /api/v1/invoices/{id}\n\n# Crear factura\nPOST /api/v1/invoices\n\n# Actualizar factura\nPUT /api/v1/invoices/{id}\n\n# Eliminar factura\nDELETE /api/v1/invoices/{id}\n\n# Enviar factura por email\nPOST /api/v1/invoices/{id}/send\n\n# Marcar como pagada\nPOST /api/v1/invoices/{id}/mark-paid\n</code></pre>"},{"location":"api/introduction/#clientes","title":"\ud83d\udc65 Clientes","text":"<pre><code># Listar clientes\nGET /api/v1/customers\n\n# Obtener cliente\nGET /api/v1/customers/{id}\n\n# Crear cliente\nPOST /api/v1/customers\n\n# Actualizar cliente\nPUT /api/v1/customers/{id}\n\n# Eliminar cliente\nDELETE /api/v1/customers/{id}\n</code></pre>"},{"location":"api/introduction/#itemsproductos","title":"\ud83d\udce6 Items/Productos","text":"<pre><code># Listar items\nGET /api/v1/items\n\n# Obtener item\nGET /api/v1/items/{id}\n\n# Crear item\nPOST /api/v1/items\n\n# Actualizar item\nPUT /api/v1/items/{id}\n\n# Eliminar item\nDELETE /api/v1/items/{id}\n</code></pre>"},{"location":"api/introduction/#pagos","title":"\ud83d\udcb0 Pagos","text":"<pre><code># Listar pagos\nGET /api/v1/payments\n\n# Obtener pago\nGET /api/v1/payments/{id}\n\n# Crear pago\nPOST /api/v1/payments\n\n# Actualizar pago\nPUT /api/v1/payments/{id}\n\n# Eliminar pago\nDELETE /api/v1/payments/{id}\n</code></pre>"},{"location":"api/introduction/#relaciones-y-expansiones","title":"\ud83d\udd17 Relaciones y Expansiones","text":""},{"location":"api/introduction/#incluir-relaciones","title":"Incluir Relaciones","text":"<pre><code>GET /api/v1/invoices?include=customer,items,payments\n</code></pre> <p>Respuesta: <pre><code>{\n  \"data\": {\n    \"id\": 1,\n    \"invoice_number\": \"INV-001\",\n    \"customer\": {\n      \"id\": 1,\n      \"name\": \"Cliente Ejemplo\",\n      \"email\": \"cliente@example.com\"\n    },\n    \"items\": [\n      {\n        \"id\": 1,\n        \"name\": \"Producto 1\",\n        \"quantity\": 2,\n        \"price\": 50.00\n      }\n    ],\n    \"payments\": [\n      {\n        \"id\": 1,\n        \"amount\": 100.00,\n        \"payment_date\": \"2024-01-15\"\n      }\n    ]\n  }\n}\n</code></pre></p>"},{"location":"api/introduction/#relaciones-disponibles","title":"Relaciones Disponibles","text":"Recurso Relaciones Invoice <code>customer</code>, <code>items</code>, <code>payments</code>, <code>company</code> Customer <code>invoices</code>, <code>payments</code>, <code>company</code> Payment <code>invoice</code>, <code>customer</code>, <code>company</code> Item <code>company</code>"},{"location":"api/introduction/#testing-de-la-api","title":"\ud83e\uddea Testing de la API","text":""},{"location":"api/introduction/#postman-collection","title":"Postman Collection","text":"<p>Descarga nuestra colecci\u00f3n de Postman:</p> <pre><code>curl -O https://api.crater.financial/postman/collection.json\n</code></pre>"},{"location":"api/introduction/#ejemplo-con-curl","title":"Ejemplo con cURL","text":"<pre><code># Autenticarse\ncurl -X POST https://tu-dominio.com/api/v1/auth/login \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"email\": \"admin@example.com\",\n    \"password\": \"password\",\n    \"device_name\": \"Test App\"\n  }'\n\n# Usar token\ncurl -X GET https://tu-dominio.com/api/v1/invoices \\\n  -H \"Authorization: Bearer 1|abc123def456...\" \\\n  -H \"Accept: application/json\"\n</code></pre>"},{"location":"api/introduction/#ejemplo-con-javascript","title":"Ejemplo con JavaScript","text":"<pre><code>// Configuraci\u00f3n base\nconst API_BASE = 'https://tu-dominio.com/api/v1';\nconst token = '1|abc123def456...';\n\n// Funci\u00f3n helper\nasync function apiRequest(endpoint, options = {}) {\n  const response = await fetch(`${API_BASE}${endpoint}`, {\n    headers: {\n      'Authorization': `Bearer ${token}`,\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      ...options.headers\n    },\n    ...options\n  });\n\n  return response.json();\n}\n\n// Obtener facturas\nconst invoices = await apiRequest('/invoices');\n\n// Crear factura\nconst newInvoice = await apiRequest('/invoices', {\n  method: 'POST',\n  body: JSON.stringify({\n    customer_id: 1,\n    invoice_date: '2024-01-15',\n    items: [\n      {\n        name: 'Producto 1',\n        quantity: 2,\n        price: 50.00\n      }\n    ]\n  })\n});\n</code></pre>"},{"location":"api/introduction/#documentacion-interactiva","title":"\ud83d\udcd6 Documentaci\u00f3n Interactiva","text":""},{"location":"api/introduction/#swaggeropenapi","title":"Swagger/OpenAPI","text":"<p>Accede a la documentaci\u00f3n interactiva:</p> <pre><code>https://tu-dominio.com/api/documentation\n</code></pre>"},{"location":"api/introduction/#caracteristicas-de-swagger","title":"Caracter\u00edsticas de Swagger","text":"<ul> <li>\ud83d\udd0d Explorador de API interactivo</li> <li>\ud83e\uddea Testing en vivo de endpoints</li> <li>\ud83d\udccb Esquemas de datos detallados</li> <li>\ud83d\udd11 Autenticaci\u00f3n integrada</li> </ul>"},{"location":"api/introduction/#sdk-y-wrappers","title":"\ud83d\udd27 SDK y Wrappers","text":""},{"location":"api/introduction/#sdk-oficial-proximamente","title":"SDK Oficial (Pr\u00f3ximamente)","text":"<pre><code># PHP\ncomposer require crater/php-sdk\n\n# JavaScript/Node.js\nnpm install @crater/js-sdk\n\n# Python\npip install crater-sdk\n</code></pre>"},{"location":"api/introduction/#wrapper-basico-en-php","title":"Wrapper B\u00e1sico en PHP","text":"<pre><code>&lt;?php\n\nclass CraterAPI\n{\n    private $baseUrl;\n    private $token;\n\n    public function __construct($baseUrl, $token)\n    {\n        $this-&gt;baseUrl = rtrim($baseUrl, '/');\n        $this-&gt;token = $token;\n    }\n\n    public function get($endpoint)\n    {\n        return $this-&gt;request('GET', $endpoint);\n    }\n\n    public function post($endpoint, $data = [])\n    {\n        return $this-&gt;request('POST', $endpoint, $data);\n    }\n\n    private function request($method, $endpoint, $data = null)\n    {\n        $ch = curl_init();\n\n        curl_setopt_array($ch, [\n            CURLOPT_URL =&gt; $this-&gt;baseUrl . $endpoint,\n            CURLOPT_RETURNTRANSFER =&gt; true,\n            CURLOPT_CUSTOMREQUEST =&gt; $method,\n            CURLOPT_HTTPHEADER =&gt; [\n                'Authorization: Bearer ' . $this-&gt;token,\n                'Accept: application/json',\n                'Content-Type: application/json',\n            ],\n        ]);\n\n        if ($data) {\n            curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode($data));\n        }\n\n        $response = curl_exec($ch);\n        curl_close($ch);\n\n        return json_decode($response, true);\n    }\n}\n\n// Uso\n$api = new CraterAPI('https://tu-dominio.com/api/v1', 'tu-token');\n$invoices = $api-&gt;get('/invoices');\n</code></pre>"},{"location":"api/introduction/#manejo-de-errores","title":"\ud83d\udea8 Manejo de Errores","text":""},{"location":"api/introduction/#tipos-de-errores","title":"Tipos de Errores","text":"<ol> <li> <p>Errores de Validaci\u00f3n (422) <pre><code>{\n  \"error\": {\n    \"code\": \"VALIDATION_ERROR\",\n    \"message\": \"Los datos no son v\u00e1lidos\",\n    \"details\": {\n      \"email\": [\"El email es requerido\"]\n    }\n  }\n}\n</code></pre></p> </li> <li> <p>Errores de Autenticaci\u00f3n (401) <pre><code>{\n  \"error\": {\n    \"code\": \"UNAUTHENTICATED\",\n    \"message\": \"Token inv\u00e1lido o expirado\"\n  }\n}\n</code></pre></p> </li> <li> <p>Errores de Autorizaci\u00f3n (403) <pre><code>{\n  \"error\": {\n    \"code\": \"FORBIDDEN\",\n    \"message\": \"No tienes permisos para esta acci\u00f3n\"\n  }\n}\n</code></pre></p> </li> </ol>"},{"location":"api/introduction/#best-practices-para-manejo-de-errores","title":"Best Practices para Manejo de Errores","text":"<pre><code>async function handleApiCall() {\n  try {\n    const response = await apiRequest('/invoices');\n\n    if (response.error) {\n      switch (response.error.code) {\n        case 'VALIDATION_ERROR':\n          // Mostrar errores de validaci\u00f3n\n          showValidationErrors(response.error.details);\n          break;\n        case 'UNAUTHENTICATED':\n          // Redireccionar a login\n          redirectToLogin();\n          break;\n        default:\n          // Error gen\u00e9rico\n          showError(response.error.message);\n      }\n      return;\n    }\n\n    // Procesar respuesta exitosa\n    processData(response.data);\n\n  } catch (error) {\n    // Error de red o parsing\n    showError('Error de conexi\u00f3n');\n  }\n}\n</code></pre>"},{"location":"api/introduction/#proximos-pasos","title":"\ud83d\udcda Pr\u00f3ximos Pasos","text":"<ul> <li>\ud83d\udd10 Autenticaci\u00f3n Detallada</li> <li>\ud83d\udccb Endpoints Completos</li> <li>\ud83e\uddea Ejemplos de Integraci\u00f3n</li> </ul> <p>\u00bfNecesitas ayuda con la API? Revisa los ejemplos de c\u00f3digo.</p>"},{"location":"architecture/overview/","title":"\ud83c\udfd7\ufe0f Arquitectura del Sistema","text":"<p>Esta secci\u00f3n explica la arquitectura t\u00e9cnica de Crater, sus componentes principales y c\u00f3mo interact\u00faan entre s\u00ed.</p>"},{"location":"architecture/overview/#vision-general-de-la-arquitectura","title":"\ud83d\udcd0 Visi\u00f3n General de la Arquitectura","text":"<p>Crater sigue una arquitectura modular de tres capas basada en el patr\u00f3n MVC (Model-View-Controller):</p> <pre><code>graph TB\n    subgraph \"Frontend Layer\"\n        A[Vue.js 3 SPA] --&gt; B[Vue Router]\n        A --&gt; C[Pinia Store]\n        A --&gt; D[Tailwind CSS]\n    end\n\n    subgraph \"API Layer\"\n        E[Laravel API] --&gt; F[Controllers]\n        E --&gt; G[Middleware]\n        E --&gt; H[Resources]\n    end\n\n    subgraph \"Business Logic Layer\"\n        I[Models] --&gt; J[Services]\n        I --&gt; K[Repositories]\n        I --&gt; L[Events/Listeners]\n    end\n\n    subgraph \"Data Layer\"\n        M[MySQL/PostgreSQL] --&gt; N[Migrations]\n        M --&gt; O[Seeders]\n        M --&gt; P[Factories]\n    end\n\n    A --&gt; E\n    E --&gt; I\n    I --&gt; M\n</code></pre>"},{"location":"architecture/overview/#stack-tecnologico","title":"\ud83d\udd27 Stack Tecnol\u00f3gico","text":""},{"location":"architecture/overview/#backend-laravel","title":"Backend (Laravel)","text":"Componente Tecnolog\u00eda Versi\u00f3n Prop\u00f3sito Framework Laravel 12.x Core de la aplicaci\u00f3n Lenguaje PHP 8.2+ L\u00f3gica del servidor Autenticaci\u00f3n Sanctum 4.x API Authentication Base de Datos Eloquent ORM - Abstracci\u00f3n de BD Colas Laravel Queue - Procesamiento as\u00edncrono Cache Redis/File - Optimizaci\u00f3n de rendimiento"},{"location":"architecture/overview/#frontend-vuejs","title":"Frontend (Vue.js)","text":"Componente Tecnolog\u00eda Versi\u00f3n Prop\u00f3sito Framework Vue.js 3.x Interfaz de usuario Router Vue Router 4.x Navegaci\u00f3n SPA Estado Pinia 2.x Gesti\u00f3n de estado Estilos Tailwind CSS 3.x Framework CSS Build Vite 5.x Bundler y dev server Componentes Headless UI 1.x Componentes accesibles"},{"location":"architecture/overview/#estructura-de-directorios","title":"\ud83d\uddc2\ufe0f Estructura de Directorios","text":""},{"location":"architecture/overview/#backend-laravel_1","title":"Backend (Laravel)","text":"<pre><code>app/\n\u251c\u2500\u2500 Http/                      # Capa de presentaci\u00f3n HTTP\n\u2502   \u251c\u2500\u2500 Controllers/           # Controladores API/Web\n\u2502   \u251c\u2500\u2500 Middleware/            # Middleware personalizado\n\u2502   \u251c\u2500\u2500 Requests/              # Form requests y validaciones\n\u2502   \u2514\u2500\u2500 Resources/             # Transformadores de API\n\u251c\u2500\u2500 Models/                    # Modelos Eloquent\n\u2502   \u251c\u2500\u2500 Invoice.php\n\u2502   \u251c\u2500\u2500 Customer.php\n\u2502   \u251c\u2500\u2500 Item.php\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 Services/                  # L\u00f3gica de negocio\n\u2502   \u251c\u2500\u2500 InvoiceService.php\n\u2502   \u251c\u2500\u2500 PaymentService.php\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 Jobs/                      # Trabajos de cola\n\u2502   \u251c\u2500\u2500 GenerateInvoicePdf.php\n\u2502   \u2514\u2500\u2500 SendInvoiceEmail.php\n\u251c\u2500\u2500 Events/                    # Eventos del sistema\n\u251c\u2500\u2500 Listeners/                 # Escuchadores de eventos\n\u251c\u2500\u2500 Policies/                  # Pol\u00edticas de autorizaci\u00f3n\n\u251c\u2500\u2500 Providers/                 # Service providers\n\u2514\u2500\u2500 Traits/                    # Traits reutilizables\n</code></pre>"},{"location":"architecture/overview/#frontend-vuejs_1","title":"Frontend (Vue.js)","text":"<pre><code>resources/scripts/\n\u251c\u2500\u2500 components/                # Componentes Vue\n\u2502   \u251c\u2500\u2500 base/                  # Componentes base reutilizables\n\u2502   \u251c\u2500\u2500 forms/                 # Componentes de formularios\n\u2502   \u251c\u2500\u2500 layouts/               # Layouts de p\u00e1gina\n\u2502   \u2514\u2500\u2500 modules/               # Componentes espec\u00edficos de m\u00f3dulos\n\u251c\u2500\u2500 views/                     # P\u00e1ginas/Vistas principales\n\u2502   \u251c\u2500\u2500 invoices/              # Vistas de facturas\n\u2502   \u251c\u2500\u2500 customers/             # Vistas de clientes\n\u2502   \u2514\u2500\u2500 dashboard/             # Dashboard\n\u251c\u2500\u2500 stores/                    # Stores de Pinia\n\u2502   \u251c\u2500\u2500 auth.js\n\u2502   \u251c\u2500\u2500 invoice.js\n\u2502   \u2514\u2500\u2500 customer.js\n\u251c\u2500\u2500 composables/               # Composables reutilizables\n\u251c\u2500\u2500 utils/                     # Utilidades y helpers\n\u251c\u2500\u2500 router/                    # Configuraci\u00f3n del router\n\u2514\u2500\u2500 app.js                     # Punto de entrada\n</code></pre>"},{"location":"architecture/overview/#flujo-de-datos","title":"\ud83d\udd04 Flujo de Datos","text":""},{"location":"architecture/overview/#flujo-de-requestresponse","title":"Flujo de Request/Response","text":"<pre><code>sequenceDiagram\n    participant U as Usuario\n    participant F as Frontend (Vue)\n    participant R as Router\n    participant A as API (Laravel)\n    participant S as Service\n    participant M as Model\n    participant D as Database\n\n    U-&gt;&gt;F: Acci\u00f3n del usuario\n    F-&gt;&gt;R: Navegaci\u00f3n/Estado\n    F-&gt;&gt;A: HTTP Request\n    A-&gt;&gt;S: L\u00f3gica de negocio\n    S-&gt;&gt;M: Consulta datos\n    M-&gt;&gt;D: Query SQL\n    D--&gt;&gt;M: Resultado\n    M--&gt;&gt;S: Datos procesados\n    S--&gt;&gt;A: Respuesta\n    A--&gt;&gt;F: JSON Response\n    F--&gt;&gt;U: UI Actualizada\n</code></pre>"},{"location":"architecture/overview/#gestion-de-estado-pinia","title":"Gesti\u00f3n de Estado (Pinia)","text":"<pre><code>// Ejemplo de store de facturas\nexport const useInvoiceStore = defineStore('invoice', {\n  state: () =&gt; ({\n    invoices: [],\n    currentInvoice: null,\n    loading: false,\n    filters: {}\n  }),\n\n  getters: {\n    filteredInvoices: (state) =&gt; {\n      // L\u00f3gica de filtrado\n    }\n  },\n\n  actions: {\n    async fetchInvoices() {\n      this.loading = true\n      try {\n        const response = await api.get('/invoices')\n        this.invoices = response.data\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n})\n</code></pre>"},{"location":"architecture/overview/#seguridad-y-autenticacion","title":"\ud83d\udd10 Seguridad y Autenticaci\u00f3n","text":""},{"location":"architecture/overview/#laravel-sanctum-flow","title":"Laravel Sanctum Flow","text":"<pre><code>graph LR\n    A[Login Request] --&gt; B[Verificar Credenciales]\n    B --&gt; C[Generar Token]\n    C --&gt; D[Devolver Token]\n    D --&gt; E[Almacenar en Frontend]\n    E --&gt; F[Requests con Bearer Token]\n    F --&gt; G[Middleware Sanctum]\n    G --&gt; H[Validar Token]\n    H --&gt; I[Permitir/Denegar Acceso]\n</code></pre>"},{"location":"architecture/overview/#middleware-de-seguridad","title":"Middleware de Seguridad","text":"<pre><code>// app/Http/Middleware/\n\u251c\u2500\u2500 Authenticate.php           # Verificar autenticaci\u00f3n\n\u251c\u2500\u2500 CheckPermission.php        # Verificar permisos\n\u251c\u2500\u2500 ValidateCompany.php        # Multi-tenancy\n\u2514\u2500\u2500 RateLimitApi.php          # Rate limiting\n</code></pre>"},{"location":"architecture/overview/#base-de-datos","title":"\ud83d\udcca Base de Datos","text":""},{"location":"architecture/overview/#diagrama-er-simplificado","title":"Diagrama ER Simplificado","text":"<pre><code>erDiagram\n    COMPANIES ||--o{ USERS : has\n    COMPANIES ||--o{ CUSTOMERS : has\n    COMPANIES ||--o{ INVOICES : creates\n    COMPANIES ||--o{ ITEMS : has\n\n    CUSTOMERS ||--o{ INVOICES : receives\n    INVOICES ||--o{ INVOICE_ITEMS : contains\n    ITEMS ||--o{ INVOICE_ITEMS : referenced_in\n\n    INVOICES ||--o{ PAYMENTS : has\n    INVOICES ||--o{ ESTIMATES : converted_from\n\n    USERS }o--|| ROLES : has\n    ROLES ||--o{ PERMISSIONS : has\n</code></pre>"},{"location":"architecture/overview/#tablas-principales","title":"Tablas Principales","text":"Tabla Prop\u00f3sito Relaciones <code>companies</code> Multi-tenancy Padre de la mayor\u00eda de entidades <code>users</code> Usuarios del sistema Pertenece a company <code>customers</code> Clientes Pertenece a company <code>invoices</code> Facturas Pertenece a company, customer <code>invoice_items</code> Items de factura Pertenece a invoice, item <code>items</code> Productos/Servicios Pertenece a company <code>payments</code> Pagos Pertenece a invoice <code>estimates</code> Cotizaciones Pertenece a company, customer"},{"location":"architecture/overview/#arquitectura-de-servicios","title":"\ud83d\ude80 Arquitectura de Servicios","text":""},{"location":"architecture/overview/#service-layer-pattern","title":"Service Layer Pattern","text":"<pre><code>// Ejemplo de servicio\nclass InvoiceService\n{\n    public function __construct(\n        private InvoiceRepository $invoiceRepo,\n        private PdfGeneratorService $pdfService,\n        private EmailService $emailService\n    ) {}\n\n    public function createInvoice(array $data): Invoice\n    {\n        DB::transaction(function () use ($data) {\n            $invoice = $this-&gt;invoiceRepo-&gt;create($data);\n\n            event(new InvoiceCreated($invoice));\n\n            return $invoice;\n        });\n    }\n\n    public function sendInvoice(Invoice $invoice): void\n    {\n        $pdf = $this-&gt;pdfService-&gt;generate($invoice);\n        $this-&gt;emailService-&gt;sendInvoice($invoice, $pdf);\n\n        $invoice-&gt;markAsSent();\n    }\n}\n</code></pre>"},{"location":"architecture/overview/#repository-pattern","title":"Repository Pattern","text":"<pre><code>// Ejemplo de repositorio\nclass InvoiceRepository\n{\n    public function __construct(private Invoice $model) {}\n\n    public function findWithFilters(array $filters): Collection\n    {\n        return $this-&gt;model\n            -&gt;with(['customer', 'items'])\n            -&gt;when($filters['status'] ?? null, fn($q, $status) =&gt; \n                $q-&gt;where('status', $status)\n            )\n            -&gt;when($filters['customer_id'] ?? null, fn($q, $customerId) =&gt; \n                $q-&gt;where('customer_id', $customerId)\n            )\n            -&gt;get();\n    }\n}\n</code></pre>"},{"location":"architecture/overview/#event-driven-architecture","title":"\ud83d\udd04 Event-Driven Architecture","text":""},{"location":"architecture/overview/#sistema-de-eventos","title":"Sistema de Eventos","text":"<pre><code>// Eventos principales\nclass InvoiceCreated extends Event\n{\n    public function __construct(public Invoice $invoice) {}\n}\n\nclass InvoiceSent extends Event\n{\n    public function __construct(public Invoice $invoice) {}\n}\n\nclass PaymentReceived extends Event\n{\n    public function __construct(public Payment $payment) {}\n}\n</code></pre>"},{"location":"architecture/overview/#listeners","title":"Listeners","text":"<pre><code>// Listener para generar PDF autom\u00e1ticamente\nclass GenerateInvoicePdf\n{\n    public function handle(InvoiceCreated $event): void\n    {\n        GenerateInvoicePdfJob::dispatch($event-&gt;invoice);\n    }\n}\n</code></pre>"},{"location":"architecture/overview/#arquitectura-de-modulos","title":"\ud83d\udce6 Arquitectura de M\u00f3dulos","text":""},{"location":"architecture/overview/#sistema-de-modulos","title":"Sistema de M\u00f3dulos","text":"<p>Crater utiliza un sistema de m\u00f3dulos para extensibilidad:</p> <pre><code>Modules/\n\u251c\u2500\u2500 Core/                      # M\u00f3dulo principal\n\u251c\u2500\u2500 Invoice/                   # Gesti\u00f3n de facturas\n\u251c\u2500\u2500 Customer/                  # Gesti\u00f3n de clientes\n\u251c\u2500\u2500 Payment/                   # Procesamiento de pagos\n\u251c\u2500\u2500 Report/                    # Reportes y estad\u00edsticas\n\u2514\u2500\u2500 API/                       # Endpoints de API\n</code></pre>"},{"location":"architecture/overview/#interface-de-modulo","title":"Interface de M\u00f3dulo","text":"<pre><code>interface ModuleInterface\n{\n    public function boot(): void;\n    public function register(): void;\n    public function getRoutes(): array;\n    public function getViews(): array;\n    public function getMigrations(): array;\n}\n</code></pre>"},{"location":"architecture/overview/#patrones-de-diseno-utilizados","title":"\ud83d\udd27 Patrones de Dise\u00f1o Utilizados","text":""},{"location":"architecture/overview/#1-repository-pattern","title":"1. Repository Pattern","text":"<ul> <li>Prop\u00f3sito: Abstracci\u00f3n de acceso a datos</li> <li>Ubicaci\u00f3n: <code>app/Repositories/</code></li> </ul>"},{"location":"architecture/overview/#2-service-layer-pattern","title":"2. Service Layer Pattern","text":"<ul> <li>Prop\u00f3sito: L\u00f3gica de negocio compleja</li> <li>Ubicaci\u00f3n: <code>app/Services/</code></li> </ul>"},{"location":"architecture/overview/#3-observer-pattern","title":"3. Observer Pattern","text":"<ul> <li>Prop\u00f3sito: Eventos y listeners</li> <li>Ubicaci\u00f3n: <code>app/Events/</code>, <code>app/Listeners/</code></li> </ul>"},{"location":"architecture/overview/#4-factory-pattern","title":"4. Factory Pattern","text":"<ul> <li>Prop\u00f3sito: Creaci\u00f3n de objetos complejos</li> <li>Ubicaci\u00f3n: <code>database/factories/</code></li> </ul>"},{"location":"architecture/overview/#5-strategy-pattern","title":"5. Strategy Pattern","text":"<ul> <li>Prop\u00f3sito: Diferentes estrategias de pago/PDF</li> <li>Ubicaci\u00f3n: <code>app/Services/Strategies/</code></li> </ul>"},{"location":"architecture/overview/#escalabilidad","title":"\ud83d\udcc8 Escalabilidad","text":""},{"location":"architecture/overview/#consideraciones-de-rendimiento","title":"Consideraciones de Rendimiento","text":"<ol> <li> <p>Cache Strategy <pre><code>// Cache de queries frecuentes\nCache::remember('company_settings_' . $companyId, 3600, function () {\n    return CompanySettings::where('company_id', $companyId)-&gt;get();\n});\n</code></pre></p> </li> <li> <p>Queue Jobs <pre><code>// Procesamiento as\u00edncrono\nGenerateInvoicePdfJob::dispatch($invoice);\nSendInvoiceEmailJob::dispatch($invoice)-&gt;delay(now()-&gt;addMinutes(5));\n</code></pre></p> </li> <li> <p>Database Optimization</p> </li> <li>\u00cdndices optimizados</li> <li>Relaciones eager loading</li> <li>Query optimization</li> </ol>"},{"location":"architecture/overview/#monitoreo-y-logging","title":"\ud83d\udd0d Monitoreo y Logging","text":""},{"location":"architecture/overview/#sistema-de-logs","title":"Sistema de Logs","text":"<pre><code>// Logs estructurados\nLog::channel('invoice')-&gt;info('Invoice created', [\n    'invoice_id' =&gt; $invoice-&gt;id,\n    'customer_id' =&gt; $invoice-&gt;customer_id,\n    'amount' =&gt; $invoice-&gt;total,\n    'user_id' =&gt; auth()-&gt;id()\n]);\n</code></pre>"},{"location":"architecture/overview/#health-checks","title":"Health Checks","text":"<pre><code>// Verificaciones de salud del sistema\nclass DatabaseHealthCheck implements HealthCheckInterface\n{\n    public function check(): HealthCheckResult\n    {\n        try {\n            DB::connection()-&gt;getPdo();\n            return HealthCheckResult::ok();\n        } catch (Exception $e) {\n            return HealthCheckResult::failed($e-&gt;getMessage());\n        }\n    }\n}\n</code></pre>"},{"location":"architecture/overview/#proximos-pasos","title":"\ud83c\udfaf Pr\u00f3ximos Pasos","text":"<p>Para profundizar en componentes espec\u00edficos:</p> <ul> <li>\ud83d\udcca Backend (Laravel)</li> <li>\ud83c\udfa8 Frontend (Vue.js)</li> <li>\ud83d\uddc4\ufe0f Base de Datos</li> </ul> <p>\u00bfTienes preguntas sobre la arquitectura? \u00danete a nuestro Discord o revisa el c\u00f3digo fuente.</p>"},{"location":"development/cicd/","title":"\ud83d\ude80 CI/CD Pipeline","text":"<p>Crater utiliza GitHub Actions para implementar un pipeline completo de Integraci\u00f3n Continua y Despliegue Continuo (CI/CD).</p>"},{"location":"development/cicd/#vision-general","title":"\ud83d\udccb Visi\u00f3n General","text":"<p>Nuestro pipeline automatiza:</p> <ul> <li>\u2705 Testing autom\u00e1tico en m\u00faltiples versiones</li> <li>\ud83d\udd0d An\u00e1lisis de c\u00f3digo y linting</li> <li>\ud83d\udd12 Auditor\u00edas de seguridad</li> <li>\ud83d\udce6 Generaci\u00f3n de artefactos de despliegue</li> <li>\ud83d\ude80 Despliegue autom\u00e1tico a staging/producci\u00f3n</li> <li>\ud83d\udcf1 Releases autom\u00e1ticos con Docker</li> </ul>"},{"location":"development/cicd/#arquitectura-del-pipeline","title":"\ud83c\udfd7\ufe0f Arquitectura del Pipeline","text":"<pre><code>graph TB\n    A[Push/PR] --&gt; B[CI Pipeline]\n    B --&gt; C[PHP Tests]\n    B --&gt; D[Frontend Tests]\n    B --&gt; E[Security Audit]\n\n    C --&gt; F{All Tests Pass?}\n    D --&gt; F\n    E --&gt; F\n\n    F --&gt;|Yes| G[Deploy Pipeline]\n    F --&gt;|No| H[\u274c Fail]\n\n    G --&gt; I{Branch?}\n    I --&gt;|develop| J[Deploy to Staging]\n    I --&gt;|master| K[Deploy to Production]\n\n    L[Tag Push] --&gt; M[Release Pipeline]\n    M --&gt; N[Create GitHub Release]\n    M --&gt; O[Build Docker Image]\n</code></pre>"},{"location":"development/cicd/#workflows-disponibles","title":"\ud83d\udd04 Workflows Disponibles","text":""},{"location":"development/cicd/#1-ci-pipeline-ciyml","title":"1. CI Pipeline (<code>ci.yml</code>)","text":"<p>Triggers: - Push a <code>master</code> o <code>develop</code> - Pull requests a <code>master</code> o <code>develop</code></p> <p>Jobs: - <code>php-tests</code>: Tests de backend con PHP 8.2 y 8.3 - <code>frontend-tests</code>: Tests de frontend con Node.js 18.x y 20.x - <code>security-audit</code>: Auditor\u00edas de dependencias - <code>deployment-check</code>: Preparaci\u00f3n de artefactos</p>"},{"location":"development/cicd/#2-deploy-pipeline-deployyml","title":"2. Deploy Pipeline (<code>deploy.yml</code>)","text":"<p>Triggers: - Push a <code>master</code> (producci\u00f3n) - Workflow dispatch manual</p> <p>Jobs: - <code>deploy-staging</code>: Despliegue autom\u00e1tico a staging - <code>deploy-production</code>: Despliegue a producci\u00f3n con verificaciones</p>"},{"location":"development/cicd/#3-release-pipeline-releaseyml","title":"3. Release Pipeline (<code>release.yml</code>)","text":"<p>Triggers: - Tags con formato <code>v*</code> (ej: <code>v1.0.0</code>) - Workflow dispatch manual</p> <p>Jobs: - <code>create-release</code>: Genera release en GitHub - <code>docker-release</code>: Build y push de imagen Docker</p>"},{"location":"development/cicd/#testing-automatizado","title":"\ud83e\uddea Testing Automatizado","text":""},{"location":"development/cicd/#matriz-de-testing","title":"Matriz de Testing","text":"Componente Versiones Tests PHP 8.2, 8.3 PHPUnit, Pest, Pint Node.js 18.x, 20.x ESLint, Build Database MySQL 8.0 Integration Tests"},{"location":"development/cicd/#configuracion-de-tests","title":"Configuraci\u00f3n de Tests","text":"<pre><code># Matriz PHP\nstrategy:\n  matrix:\n    php-version: [8.2, 8.3]\n\n# Servicios para testing\nservices:\n  mysql:\n    image: mysql:8.0\n    env:\n      MYSQL_ROOT_PASSWORD: root\n      MYSQL_DATABASE: invoiceshelf_test\n</code></pre>"},{"location":"development/cicd/#tests-ejecutados","title":"Tests Ejecutados","text":"<pre><code># Backend Tests\n./vendor/bin/pint --test          # PHP Code Style\nphp artisan test --coverage      # PHPUnit Tests\n./vendor/bin/pest --coverage     # Pest Tests\n\n# Frontend Tests\nnpm run test                      # ESLint\nnpm run build                     # Build Assets\n</code></pre>"},{"location":"development/cicd/#auditorias-de-seguridad","title":"\ud83d\udd12 Auditor\u00edas de Seguridad","text":""},{"location":"development/cicd/#dependencias-php","title":"Dependencias PHP","text":"<pre><code># Auditoria de Composer\ncomposer audit\n\n# Verifica vulnerabilidades conocidas\n</code></pre>"},{"location":"development/cicd/#dependencias-nodejs","title":"Dependencias Node.js","text":"<pre><code># Auditoria de NPM\nnpm audit --audit-level moderate\n\n# Revisa paquetes con vulnerabilidades\n</code></pre>"},{"location":"development/cicd/#configuracion-de-seguridad","title":"Configuraci\u00f3n de Seguridad","text":"<pre><code>security-audit:\n  runs-on: ubuntu-latest\n  steps:\n    - name: PHP Security Audit\n      run: composer audit\n\n    - name: NPM Security Audit\n      run: npm audit --audit-level moderate\n</code></pre>"},{"location":"development/cicd/#generacion-de-artefactos","title":"\ud83d\udce6 Generaci\u00f3n de Artefactos","text":""},{"location":"development/cicd/#artefactos-de-despliegue","title":"Artefactos de Despliegue","text":"<p>El pipeline genera autom\u00e1ticamente:</p> <pre><code># Artefacto optimizado para producci\u00f3n\ntar -czf deployment.tar.gz \\\n  --exclude=node_modules \\\n  --exclude=.git \\\n  --exclude=tests \\\n  --exclude=.github \\\n  .\n</code></pre> <p>Excluye: - <code>node_modules/</code> - Dependencias de desarrollo - <code>.git/</code> - Historia de Git - <code>tests/</code> - Tests unitarios - <code>.github/</code> - Workflows de CI/CD</p> <p>Incluye: - C\u00f3digo optimizado - Dependencias de producci\u00f3n - Assets compilados</p>"},{"location":"development/cicd/#retencion-de-artefactos","title":"Retenci\u00f3n de Artefactos","text":"<ul> <li>Duraci\u00f3n: 30 d\u00edas</li> <li>Nomenclatura: <code>deployment-{branch}-{sha}</code></li> <li>Tama\u00f1o: ~50MB (comprimido)</li> </ul>"},{"location":"development/cicd/#estrategia-de-despliegue","title":"\ud83d\ude80 Estrategia de Despliegue","text":""},{"location":"development/cicd/#ambientes","title":"Ambientes","text":"\ud83e\uddea Staging\ud83c\udf1f Production <ul> <li>Rama: <code>develop</code></li> <li>Despliegue: Autom\u00e1tico</li> <li>URL: <code>staging.invoiceshelf.com</code></li> <li>Prop\u00f3sito: Testing y QA</li> </ul> <ul> <li>Rama: <code>master</code></li> <li>Despliegue: Manual/Autom\u00e1tico</li> <li>URL: <code>app.invoiceshelf.com</code></li> <li>Prop\u00f3sito: Usuarios finales</li> </ul>"},{"location":"development/cicd/#verificaciones-pre-despliegue","title":"Verificaciones Pre-Despliegue","text":"<pre><code># Verificaciones de producci\u00f3n\n- name: Run production checks\n  run: |\n    test -f composer.json\n    test -f package.json\n    test -d public/build\n    echo \"\u2705 All production checks passed\"\n</code></pre>"},{"location":"development/cicd/#rolling-deployment","title":"Rolling Deployment","text":"<pre><code># Estrategia de despliegue sin downtime\n1. Backup de la instalaci\u00f3n actual\n2. Despliegue en servidor paralelo\n3. Verificaciones de salud\n4. Switch de tr\u00e1fico\n5. Cleanup del deployment anterior\n</code></pre>"},{"location":"development/cicd/#releases-automaticos","title":"\ud83c\udff7\ufe0f Releases Autom\u00e1ticos","text":""},{"location":"development/cicd/#versionado-semantico","title":"Versionado Sem\u00e1ntico","text":"<p>Seguimos Semantic Versioning:</p> <ul> <li><code>v1.0.0</code> - Release principal</li> <li><code>v1.1.0</code> - Nuevas caracter\u00edsticas</li> <li><code>v1.0.1</code> - Bug fixes</li> </ul>"},{"location":"development/cicd/#proceso-de-release","title":"Proceso de Release","text":"<pre><code># Crear tag\ngit tag v1.0.0\ngit push origin v1.0.0\n\n# El pipeline autom\u00e1ticamente:\n# 1. Crea GitHub Release\n# 2. Genera changelog\n# 3. Build imagen Docker\n# 4. Publica en Docker Hub\n</code></pre>"},{"location":"development/cicd/#github-release","title":"GitHub Release","text":"<pre><code>- name: Create GitHub Release\n  uses: actions/create-release@v1\n  with:        tag_name: ${{ github.ref_name }}\n        release_name: Crater ${{ github.ref_name }}\n        body: |\n      ## Changes in this release\n      ${{ steps.changelog.outputs.changelog }}\n\n      ## Installation\n      [Download](https://github.com/InvoiceShelf/invoiceshelf/releases)\n</code></pre>"},{"location":"development/cicd/#docker-automation","title":"\ud83d\udc33 Docker Automation","text":""},{"location":"development/cicd/#multi-platform-builds","title":"Multi-Platform Builds","text":"<pre><code>- name: Build and push Docker image\n  uses: docker/build-push-action@v5\n  with:\n    platforms: linux/amd64,linux/arm64        tags: |\n          crater/crater:latest\n          crater/crater:${{ github.ref_name }}\n</code></pre>"},{"location":"development/cicd/#registry","title":"Registry","text":"<ul> <li>Docker Hub: <code>crater/crater</code></li> <li>Tags: <code>latest</code>, version tags</li> <li>Plataformas: AMD64, ARM64</li> </ul>"},{"location":"development/cicd/#variables-de-entorno","title":"\ud83d\udd27 Variables de Entorno","text":""},{"location":"development/cicd/#secrets-requeridos","title":"Secrets Requeridos","text":"<p>Configura estos secrets en GitHub:</p> <pre><code>DOCKERHUB_USERNAME    # Usuario Docker Hub\nDOCKERHUB_TOKEN      # Token Docker Hub\nSTAGING_SSH_KEY      # Clave SSH para staging\nPRODUCTION_SSH_KEY   # Clave SSH para producci\u00f3n\nSLACK_WEBHOOK        # Webhook para notificaciones\n</code></pre>"},{"location":"development/cicd/#variables-de-pipeline","title":"Variables de Pipeline","text":"<pre><code># Configuraciones autom\u00e1ticas\nGITHUB_TOKEN         # Token autom\u00e1tico de GitHub\nGITHUB_SHA          # SHA del commit\nGITHUB_REF_NAME     # Nombre de la rama/tag\n</code></pre>"},{"location":"development/cicd/#monitoreo-del-pipeline","title":"\ud83d\udcca Monitoreo del Pipeline","text":""},{"location":"development/cicd/#estados-del-pipeline","title":"Estados del Pipeline","text":"<ul> <li>\u2705 Success: Todos los checks pasaron</li> <li>\u274c Failed: Uno o m\u00e1s checks fallaron</li> <li>\u23f3 Pending: Pipeline en ejecuci\u00f3n</li> <li>\u26a0\ufe0f Warning: Checks pasaron con warnings</li> </ul>"},{"location":"development/cicd/#notificaciones","title":"Notificaciones","text":"<pre><code>- name: Notify on success\n  if: success()\n  run: |\n    echo \"\u2705 All checks passed for branch ${{ github.ref_name }}\"\n    # Enviar notificaci\u00f3n a Slack/Discord\n\n- name: Notify on failure\n  if: failure()\n  run: |\n    echo \"\u274c Some checks failed for branch ${{ github.ref_name }}\"\n    # Enviar alerta a equipo\n</code></pre>"},{"location":"development/cicd/#debugging-del-pipeline","title":"\ud83d\udd0d Debugging del Pipeline","text":""},{"location":"development/cicd/#logs-de-debug","title":"Logs de Debug","text":"<pre><code># Habilitar debug mode\n- name: Debug Info\n  run: |\n    echo \"Branch: ${{ github.ref_name }}\"\n    echo \"Commit: ${{ github.sha }}\"\n    echo \"Actor: ${{ github.actor }}\"\n    echo \"Event: ${{ github.event_name }}\"\n</code></pre>"},{"location":"development/cicd/#ejecutar-localmente","title":"Ejecutar Localmente","text":"<pre><code># Simular el pipeline localmente\nact --job ci-tests\n\n# Usar GitHub CLI para debug\ngh workflow run ci.yml --ref develop\ngh workflow list\ngh run list\n</code></pre>"},{"location":"development/cicd/#metricas-del-pipeline","title":"\ud83d\udcc8 M\u00e9tricas del Pipeline","text":""},{"location":"development/cicd/#tiempos-de-ejecucion","title":"Tiempos de Ejecuci\u00f3n","text":"Job Tiempo Promedio Optimizaci\u00f3n PHP Tests 5-8 minutos Cache de Composer Frontend Tests 2-4 minutos Cache de NPM Security Audit 1-2 minutos - Deploy 3-5 minutos Parallel deployment"},{"location":"development/cicd/#optimizaciones-implementadas","title":"Optimizaciones Implementadas","text":"<ol> <li> <p>Cache de Dependencias <pre><code>- name: Cache Composer packages\n  uses: actions/cache@v3\n  with:\n    path: vendor\n    key: ${{ runner.os }}-php-${{ hashFiles('**/composer.lock') }}\n</code></pre></p> </li> <li> <p>Parallel Jobs <pre><code># Jobs ejecutados en paralelo\njobs:\n  php-tests:    # Paralelo\n  frontend-tests:    # Paralelo\n  security-audit:    # Paralelo\n</code></pre></p> </li> <li> <p>Matrix Strategy <pre><code>strategy:\n  matrix:\n    php-version: [8.2, 8.3]\n# Tests m\u00faltiples versiones simult\u00e1neamente\n</code></pre></p> </li> </ol>"},{"location":"development/cicd/#configuracion-local","title":"\ud83d\udee0\ufe0f Configuraci\u00f3n Local","text":""},{"location":"development/cicd/#setup-del-entorno-ci","title":"Setup del Entorno CI","text":"<pre><code># Instalar act para testing local\ncurl https://raw.githubusercontent.com/nektos/act/master/install.sh | sudo bash\n\n# Ejecutar workflow localmente\nact --job php-tests\n\n# Ejecutar con secrets\nact --secret-file .secrets\n</code></pre>"},{"location":"development/cicd/#pre-commit-hooks","title":"Pre-commit Hooks","text":"<pre><code># Instalar pre-commit\npip install pre-commit\n\n# Configurar hooks\npre-commit install\n\n# Ejecutar manualmente\npre-commit run --all-files\n</code></pre>"},{"location":"development/cicd/#documentacion-adicional","title":"\ud83d\udcda Documentaci\u00f3n Adicional","text":""},{"location":"development/cicd/#recursos-utiles","title":"Recursos \u00datiles","text":"<ul> <li>GitHub Actions Documentation</li> <li>Docker Build Actions</li> <li>Semantic Versioning</li> </ul>"},{"location":"development/cicd/#configuracion-personalizada","title":"Configuraci\u00f3n Personalizada","text":"<p>Para personalizar el pipeline:</p> <ol> <li>Fork del repositorio</li> <li>Modificar workflows en <code>.github/workflows/</code></li> <li>Configurar secrets en GitHub</li> <li>Testear cambios en branch de feature</li> </ol>"},{"location":"development/cicd/#proximos-pasos","title":"\ud83c\udfaf Pr\u00f3ximos Pasos","text":"<ul> <li>\ud83d\udd27 Configurar Entorno de Desarrollo</li> <li>\u2728 Est\u00e1ndares de C\u00f3digo</li> <li>\ud83e\uddea Gu\u00eda de Testing</li> </ul> <p>\u00bfProblemas con el pipeline? Consulta nuestro troubleshooting guide.</p>"},{"location":"installation/","title":"\ud83d\ude80 Gu\u00eda de Instalaci\u00f3n","text":"<p>Esta gu\u00eda te llevar\u00e1 a trav\u00e9s del proceso de instalaci\u00f3n de Crater paso a paso.</p>"},{"location":"installation/#metodos-de-instalacion","title":"\ud83d\udccb M\u00e9todos de Instalaci\u00f3n","text":"<p>Elige el m\u00e9todo que mejor se adapte a tu entorno:</p> \ud83d\udc33 Docker (Recomendado)\u26a1 Instalaci\u00f3n Manual\u2601\ufe0f Servicios Cloud <p>La forma m\u00e1s r\u00e1pida y sencilla de ejecutar Crater.</p> <p>Para mayor control y personalizaci\u00f3n.</p> <p>Despliegue en plataformas como DigitalOcean, AWS, etc.</p>"},{"location":"installation/#instalacion-con-docker","title":"\ud83d\udc33 Instalaci\u00f3n con Docker","text":"<p>Recomendado para Principiantes</p> <p>Docker es la forma m\u00e1s sencilla de ejecutar Crater sin configuraciones complejas.</p>"},{"location":"installation/#requisitos-previos","title":"Requisitos Previos","text":"<ul> <li>Docker Desktop o Docker Engine</li> <li>Docker Compose v2+</li> <li>2GB de RAM libre</li> <li>5GB de espacio en disco</li> </ul>"},{"location":"installation/#pasos-de-instalacion","title":"Pasos de Instalaci\u00f3n","text":"<ol> <li> <p>Clona el repositorio <pre><code>git clone https://github.com/crater-invoice/crater.git crater\ncd crater\n</code></pre></p> </li> <li> <p>Configura las variables de entorno <pre><code>cp .env.example .env\nnano .env\n</code></pre></p> </li> <li> <p>Inicia los servicios <pre><code>docker-compose up -d\n</code></pre></p> </li> <li> <p>Accede a la aplicaci\u00f3n</p> </li> <li>URL: <code>http://localhost:8080</code></li> <li>Sigue el asistente de instalaci\u00f3n</li> </ol>"},{"location":"installation/#instalacion-manual","title":"\u26a1 Instalaci\u00f3n Manual","text":""},{"location":"installation/#1-requisitos-del-sistema","title":"1. Requisitos del Sistema","text":"<p>Verificar Requisitos</p> <p>Aseg\u00farate de cumplir con todos los requisitos antes de proceder.</p> Componente Versi\u00f3n M\u00ednima Comando de Verificaci\u00f3n PHP 8.2 <code>php -v</code> Composer 2.0 <code>composer --version</code> Node.js 18.x <code>node -v</code> NPM 8.x <code>npm -v</code> <p>Extensiones PHP Requeridas: <pre><code># Verifica las extensiones instaladas\nphp -m | grep -E \"(pdo|mysql|gd|zip|xml|curl|json|mbstring|tokenizer|openssl)\"\n</code></pre></p>"},{"location":"installation/#2-descarga-del-codigo","title":"2. Descarga del C\u00f3digo","text":"<pre><code># Opci\u00f3n 1: Descarga desde GitHub\ngit clone https://github.com/crater-invoice/crater.git\ncd crater\n\n# Opci\u00f3n 2: Descarga del release\nwget https://github.com/crater-invoice/crater/releases/latest/download/crater.tar.gz\ntar -xzf crater.tar.gz\ncd crater\n</code></pre>"},{"location":"installation/#3-configuracion-del-backend","title":"3. Configuraci\u00f3n del Backend","text":"<pre><code># Instala dependencias PHP\ncomposer install --no-dev --optimize-autoloader\n\n# Copia y configura el archivo de entorno\ncp .env.example .env\n\n# Genera la clave de aplicaci\u00f3n\nphp artisan key:generate\n</code></pre>"},{"location":"installation/#4-configuracion-de-la-base-de-datos","title":"4. Configuraci\u00f3n de la Base de Datos","text":"<p>Edita el archivo <code>.env</code> con tu configuraci\u00f3n de base de datos:</p> <pre><code>DB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=crater\nDB_USERNAME=tu_usuario\nDB_PASSWORD=tu_contrase\u00f1a\n</code></pre> <pre><code># Ejecuta las migraciones\nphp artisan migrate --force\n\n# Genera datos iniciales (opcional)\nphp artisan db:seed\n</code></pre>"},{"location":"installation/#5-configuracion-del-frontend","title":"5. Configuraci\u00f3n del Frontend","text":"<pre><code># Instala dependencias Node.js\nnpm install\n\n# Compila los assets para producci\u00f3n\nnpm run build\n</code></pre>"},{"location":"installation/#6-configuracion-del-servidor-web","title":"6. Configuraci\u00f3n del Servidor Web","text":"ApacheNginx <pre><code>&lt;VirtualHost *:80&gt;\n    ServerName tu-dominio.com\n    DocumentRoot /path/to/crater/public\n\n    &lt;Directory /path/to/crater/public&gt;\n        AllowOverride All\n        Require all granted\n    &lt;/Directory&gt;\n\n    ErrorLog ${APACHE_LOG_DIR}/crater_error.log\n    CustomLog ${APACHE_LOG_DIR}/crater_access.log combined\n&lt;/VirtualHost&gt;\n</code></pre> <pre><code>server {\n    listen 80;\n    server_name tu-dominio.com;\n    root /path/to/crater/public;\n    index index.php;\n\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    location ~ \\.php$ {\n        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;\n        include fastcgi_params;\n    }\n}\n</code></pre>"},{"location":"installation/#7-configuracion-final","title":"7. Configuraci\u00f3n Final","text":"<pre><code># Optimiza la aplicaci\u00f3n para producci\u00f3n\nphp artisan config:cache\nphp artisan route:cache\nphp artisan view:cache\n\n# Configura permisos\nchmod -R 755 storage bootstrap/cache\nchown -R www-data:www-data storage bootstrap/cache\n</code></pre>"},{"location":"installation/#despliegue-cloud","title":"\u2601\ufe0f Despliegue Cloud","text":""},{"location":"installation/#digitalocean-app-platform","title":"DigitalOcean App Platform","text":"<ol> <li>Conecta tu repositorio en DigitalOcean App Platform</li> <li>Configura las variables de entorno necesarias</li> <li>Despliega autom\u00e1ticamente desde GitHub</li> </ol>"},{"location":"installation/#aws-ec2","title":"AWS EC2","text":"<pre><code># Instala dependencias en Ubuntu/Debian\nsudo apt update\nsudo apt install php8.2 php8.2-fpm nginx mysql-server composer nodejs npm\n\n# Sigue los pasos de instalaci\u00f3n manual\n</code></pre>"},{"location":"installation/#vercelnetlify","title":"Vercel/Netlify","text":"<p>Solo Frontend</p> <p>Estos servicios solo pueden alojar el frontend. Necesitar\u00e1s un servidor separado para el backend.</p>"},{"location":"installation/#configuracion-post-instalacion","title":"\ud83d\udd27 Configuraci\u00f3n Post-Instalaci\u00f3n","text":""},{"location":"installation/#1-asistente-de-configuracion","title":"1. Asistente de Configuraci\u00f3n","text":"<ol> <li>Visita tu instalaci\u00f3n en el navegador</li> <li>Completa el asistente de configuraci\u00f3n inicial:</li> <li>Informaci\u00f3n de la empresa</li> <li>Usuario administrador</li> <li>Configuraci\u00f3n de correo</li> <li>Configuraci\u00f3n de moneda</li> </ol>"},{"location":"installation/#2-configuracion-de-correo","title":"2. Configuraci\u00f3n de Correo","text":"<p>Edita <code>.env</code> para configurar el env\u00edo de correos:</p> <pre><code>MAIL_MAILER=smtp\nMAIL_HOST=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USERNAME=tu-email@gmail.com\nMAIL_PASSWORD=tu-app-password\nMAIL_ENCRYPTION=tls\n</code></pre>"},{"location":"installation/#3-configuracion-de-almacenamiento","title":"3. Configuraci\u00f3n de Almacenamiento","text":"<pre><code># Almacenamiento local (por defecto)\nFILESYSTEM_DISK=local\n\n# Amazon S3\nFILESYSTEM_DISK=s3\nAWS_ACCESS_KEY_ID=tu-key\nAWS_SECRET_ACCESS_KEY=tu-secret\nAWS_DEFAULT_REGION=us-east-1\nAWS_BUCKET=tu-bucket\n</code></pre>"},{"location":"installation/#4-tareas-programadas-cron","title":"4. Tareas Programadas (Cron)","text":"<p>Agrega esta l\u00ednea a tu crontab:</p> <pre><code>* * * * * cd /path/to/invoiceshelf &amp;&amp; php artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre>"},{"location":"installation/#verificacion-de-la-instalacion","title":"\u2705 Verificaci\u00f3n de la Instalaci\u00f3n","text":""},{"location":"installation/#lista-de-verificacion","title":"Lista de Verificaci\u00f3n","text":"<ul> <li>[ ] La aplicaci\u00f3n carga correctamente en el navegador</li> <li>[ ] Puedes iniciar sesi\u00f3n como administrador</li> <li>[ ] Puedes crear una factura de prueba</li> <li>[ ] Los correos se env\u00edan correctamente</li> <li>[ ] Las tareas programadas funcionan</li> </ul>"},{"location":"installation/#comandos-de-diagnostico","title":"Comandos de Diagn\u00f3stico","text":"<pre><code># Verifica el estado de la aplicaci\u00f3n\nphp artisan about\n\n# Verifica la configuraci\u00f3n\nphp artisan config:show\n\n# Ejecuta las verificaciones de salud\nphp artisan health:check\n</code></pre>"},{"location":"installation/#solucion-de-problemas","title":"\ud83c\udd98 Soluci\u00f3n de Problemas","text":""},{"location":"installation/#errores-comunes","title":"Errores Comunes","text":"<p>Error 500 - Internal Server Error</p> <p>Causa: Permisos incorrectos o configuraci\u00f3n de base de datos.</p> <p>Soluci\u00f3n: <pre><code>chmod -R 755 storage bootstrap/cache\nphp artisan config:clear\n</code></pre></p> <p>P\u00e1gina en Blanco</p> <p>Causa: Error de PHP o configuraci\u00f3n de servidor web.</p> <p>Soluci\u00f3n: Revisa los logs de error de PHP y del servidor web.</p> <p>Assets No Cargan</p> <p>Causa: Configuraci\u00f3n incorrecta de Vite o permisos.</p> <p>Soluci\u00f3n: <pre><code>npm run build\nphp artisan storage:link\n</code></pre></p>"},{"location":"installation/#logs-de-depuracion","title":"Logs de Depuraci\u00f3n","text":"<pre><code># Ver logs de Laravel\ntail -f storage/logs/laravel.log\n\n# Ver logs del servidor web\ntail -f /var/log/nginx/error.log   # Nginx\ntail -f /var/log/apache2/error.log # Apache\n</code></pre>"},{"location":"installation/#actualizaciones","title":"\ud83d\udd04 Actualizaciones","text":"<p>Para actualizar InvoiceShelf a una nueva versi\u00f3n:</p> <pre><code># Respalda tu instalaci\u00f3n actual\nphp artisan backup:run\n\n# Descarga la nueva versi\u00f3n\ngit pull origin master\n\n# Actualiza dependencias\ncomposer install --no-dev --optimize-autoloader\nnpm install &amp;&amp; npm run build\n\n# Ejecuta migraciones\nphp artisan migrate --force\n\n# Limpia cache\nphp artisan cache:clear\nphp artisan config:cache\n</code></pre>"},{"location":"installation/#instalacion-completada","title":"\ud83c\udf89 \u00a1Instalaci\u00f3n Completada!","text":"<p>\u00a1Felicitaciones! InvoiceShelf est\u00e1 ahora instalado y listo para usar.</p> <p>Pr\u00f3ximos Pasos: - Configuraci\u00f3n B\u00e1sica - Gu\u00eda de Usuario - API Documentation</p> <p>\u00bfNecesitas Ayuda? - Discord Community - GitHub Issues - Documentaci\u00f3n Completa</p>"},{"location":"installation/configuration/","title":"\u2699\ufe0f Configuraci\u00f3n","text":"<p>Gu\u00eda completa para configurar InvoiceShelf despu\u00e9s de la instalaci\u00f3n.</p>"},{"location":"installation/configuration/#configuracion-inicial","title":"\ud83d\ude80 Configuraci\u00f3n Inicial","text":""},{"location":"installation/configuration/#asistente-de-configuracion-web","title":"Asistente de Configuraci\u00f3n Web","text":"<p>Despu\u00e9s de la instalaci\u00f3n, visita tu dominio para acceder al asistente de configuraci\u00f3n:</p> <ol> <li>Verificaci\u00f3n del Sistema - Verificaci\u00f3n autom\u00e1tica de requisitos</li> <li>Configuraci\u00f3n de Base de Datos - Si no se configur\u00f3 previamente</li> <li>Informaci\u00f3n de la Empresa - Datos de tu empresa</li> <li>Usuario Administrador - Crear cuenta de administrador</li> <li>Configuraci\u00f3n Final - Optimizaciones y cache</li> </ol>"},{"location":"installation/configuration/#configuracion-de-correo","title":"\ud83d\udce7 Configuraci\u00f3n de Correo","text":""},{"location":"installation/configuration/#variables-de-entorno","title":"Variables de Entorno","text":"<p>Edita el archivo <code>.env</code> para configurar el env\u00edo de correos:</p> SMTPMailgunSendGrid <pre><code>MAIL_MAILER=smtp\nMAIL_HOST=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USERNAME=tu-email@gmail.com\nMAIL_PASSWORD=tu-app-password\nMAIL_ENCRYPTION=tls\nMAIL_FROM_ADDRESS=noreply@tu-dominio.com\nMAIL_FROM_NAME=\"Tu Empresa\"\n</code></pre> <pre><code>MAIL_MAILER=mailgun\nMAILGUN_DOMAIN=tu-dominio.mailgun.org\nMAILGUN_SECRET=tu-api-key\nMAIL_FROM_ADDRESS=noreply@tu-dominio.com\nMAIL_FROM_NAME=\"Tu Empresa\"\n</code></pre> <pre><code>MAIL_MAILER=smtp\nMAIL_HOST=smtp.sendgrid.net\nMAIL_PORT=587\nMAIL_USERNAME=apikey\nMAIL_PASSWORD=tu-sendgrid-api-key\nMAIL_ENCRYPTION=tls\n</code></pre>"},{"location":"installation/configuration/#probar-configuracion-de-correo","title":"Probar Configuraci\u00f3n de Correo","text":"<pre><code># Enviar correo de prueba\nphp artisan tinker\n&gt;&gt;&gt; Mail::raw('Test email', function($msg) { $msg-&gt;to('test@example.com')-&gt;subject('Test'); });\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-monedas","title":"\ud83d\udcb0 Configuraci\u00f3n de Monedas","text":""},{"location":"installation/configuration/#configurar-moneda-principal","title":"Configurar Moneda Principal","text":"<p>En el panel de administraci\u00f3n:</p> <ol> <li>Ve a Configuraci\u00f3n \u2192 Empresa</li> <li>Selecciona tu moneda principal</li> <li>Configura el formato de n\u00fameros</li> </ol>"},{"location":"installation/configuration/#agregar-monedas-adicionales","title":"Agregar Monedas Adicionales","text":"<pre><code># Ejecutar seeder de monedas\nphp artisan db:seed --class=CurrencySeeder\n\n# O agregar manualmente en: Configuraci\u00f3n \u2192 Monedas\n</code></pre>"},{"location":"installation/configuration/#tasas-de-cambio","title":"Tasas de Cambio","text":"<pre><code># Configurar API de tasas de cambio\nEXCHANGE_RATE_API_KEY=tu-api-key\nEXCHANGE_RATE_PROVIDER=fixer  # opciones: fixer, openexchangerates\n</code></pre>"},{"location":"installation/configuration/#configuracion-multi-empresa","title":"\ud83c\udfe2 Configuraci\u00f3n Multi-empresa","text":""},{"location":"installation/configuration/#habilitar-multi-empresa","title":"Habilitar Multi-empresa","text":"<pre><code># En .env\nMULTI_COMPANY_ENABLED=true\n</code></pre>"},{"location":"installation/configuration/#configurar-dominios-por-empresa","title":"Configurar Dominios por Empresa","text":"<pre><code># Configuraci\u00f3n de subdominios\nMULTI_COMPANY_SUBDOMAIN=true\n\n# O usar rutas\nMULTI_COMPANY_SUBDOMAIN=false\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-almacenamiento","title":"\ud83d\udcc1 Configuraci\u00f3n de Almacenamiento","text":""},{"location":"installation/configuration/#almacenamiento-local-por-defecto","title":"Almacenamiento Local (Por Defecto)","text":"<pre><code>FILESYSTEM_DISK=local\n</code></pre>"},{"location":"installation/configuration/#amazon-s3","title":"Amazon S3","text":"<pre><code>FILESYSTEM_DISK=s3\nAWS_ACCESS_KEY_ID=tu-access-key\nAWS_SECRET_ACCESS_KEY=tu-secret-key\nAWS_DEFAULT_REGION=us-east-1\nAWS_BUCKET=tu-bucket-name\nAWS_USE_PATH_STYLE_ENDPOINT=false\n</code></pre>"},{"location":"installation/configuration/#digitalocean-spaces","title":"DigitalOcean Spaces","text":"<pre><code>FILESYSTEM_DISK=spaces\nDO_ACCESS_KEY_ID=tu-access-key\nDO_SECRET_ACCESS_KEY=tu-secret-key\nDO_DEFAULT_REGION=nyc3\nDO_BUCKET=tu-space-name\nDO_ENDPOINT=https://nyc3.digitaloceanspaces.com\n</code></pre>"},{"location":"installation/configuration/#configurar-enlace-simbolico","title":"Configurar Enlace Simb\u00f3lico","text":"<pre><code># Crear enlace para archivos p\u00fablicos\nphp artisan storage:link\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-base-de-datos","title":"\ud83d\uddc4\ufe0f Configuraci\u00f3n de Base de Datos","text":""},{"location":"installation/configuration/#optimizaciones-mysql","title":"Optimizaciones MySQL","text":"<pre><code>-- Configuraciones recomendadas para MySQL\nSET GLOBAL innodb_buffer_pool_size = 1G;\nSET GLOBAL innodb_log_file_size = 256M;\nSET GLOBAL max_connections = 200;\nSET GLOBAL query_cache_size = 64M;\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-backup","title":"Configuraci\u00f3n de Backup","text":"<pre><code># Configurar backups autom\u00e1ticos\nBACKUP_DISK=s3  # o local\nBACKUP_SCHEDULE=daily\nBACKUP_RETENTION_DAYS=30\n</code></pre> <pre><code># Ejecutar backup manual\nphp artisan backup:run\n\n# Configurar cron para backups autom\u00e1ticos\n0 2 * * * cd /path/to/invoiceshelf &amp;&amp; php artisan backup:run\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-cache","title":"\ud83d\ude80 Configuraci\u00f3n de Cache","text":""},{"location":"installation/configuration/#redis-recomendado-para-produccion","title":"Redis (Recomendado para Producci\u00f3n)","text":"<pre><code>CACHE_DRIVER=redis\nSESSION_DRIVER=redis\nQUEUE_CONNECTION=redis\n\nREDIS_HOST=127.0.0.1\nREDIS_PASSWORD=null\nREDIS_PORT=6379\nREDIS_DB=0\n</code></pre>"},{"location":"installation/configuration/#configurar-cache-de-aplicacion","title":"Configurar Cache de Aplicaci\u00f3n","text":"<pre><code># Limpiar cache\nphp artisan cache:clear\n\n# Generar cache de configuraci\u00f3n\nphp artisan config:cache\n\n# Generar cache de rutas\nphp artisan route:cache\n\n# Generar cache de vistas\nphp artisan view:cache\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-colas","title":"\ud83d\udccb Configuraci\u00f3n de Colas","text":""},{"location":"installation/configuration/#configurar-supervisor-produccion","title":"Configurar Supervisor (Producci\u00f3n)","text":"<pre><code># Instalar supervisor\nsudo apt install supervisor\n\n# Crear configuraci\u00f3n\nsudo nano /etc/supervisor/conf.d/invoiceshelf-worker.conf\n</code></pre> <pre><code>[program:invoiceshelf-worker]\nprocess_name=%(program_name)s_%(process_num)02d\ncommand=php /var/www/invoiceshelf/artisan queue:work redis --sleep=3 --tries=3\nautostart=true\nautorestart=true\nuser=www-data\nnumprocs=2\nredirect_stderr=true\nstdout_logfile=/var/www/invoiceshelf/storage/logs/worker.log\nstopwaitsecs=3600\n</code></pre> <pre><code># Recargar supervisor\nsudo supervisorctl reread\nsudo supervisorctl update\nsudo supervisorctl start invoiceshelf-worker:*\n</code></pre>"},{"location":"installation/configuration/#configurar-cron-jobs","title":"Configurar Cron Jobs","text":"<pre><code># Editar crontab\ncrontab -e\n\n# Agregar tarea programada\n* * * * * cd /var/www/invoiceshelf &amp;&amp; php artisan schedule:run &gt;&gt; /dev/null 2&gt;&amp;1\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-seguridad","title":"\ud83d\udd12 Configuraci\u00f3n de Seguridad","text":""},{"location":"installation/configuration/#configurar-https","title":"Configurar HTTPS","text":"<pre><code># Configuraci\u00f3n Nginx con SSL\nserver {\n    listen 443 ssl http2;\n    server_name tu-dominio.com;\n\n    ssl_certificate /path/to/certificate.crt;\n    ssl_certificate_key /path/to/private.key;\n\n    # Configuraciones SSL modernas\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256;\n    ssl_prefer_server_ciphers off;\n}\n</code></pre>"},{"location":"installation/configuration/#variables-de-seguridad","title":"Variables de Seguridad","text":"<pre><code># Configuraciones de seguridad\nAPP_ENV=production\nAPP_DEBUG=false\nSESSION_SECURE_COOKIE=true\nSESSION_HTTP_ONLY=true\nSESSION_SAME_SITE=strict\n</code></pre>"},{"location":"installation/configuration/#configurar-rate-limiting","title":"Configurar Rate Limiting","text":"<p>En <code>config/invoiceshelf.php</code>:</p> <pre><code>'rate_limiting' =&gt; [\n    'login' =&gt; '5,1',      // 5 intentos por minuto\n    'api' =&gt; '60,1',       // 60 requests por minuto\n    'global' =&gt; '1000,1',  // 1000 requests por minuto global\n],\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-pdf","title":"\ud83c\udfa8 Configuraci\u00f3n de PDF","text":""},{"location":"installation/configuration/#configurar-generador-pdf","title":"Configurar Generador PDF","text":"<pre><code># Opciones: dompdf, gotenberg\nPDF_DRIVER=gotenberg\n\n# Configuraci\u00f3n Gotenberg\nGOTENBERG_ENDPOINT=http://localhost:3000\n\n# Configuraci\u00f3n DomPDF\nDOMPDF_OPTIONS='{\"isHtml5ParserEnabled\": true, \"isPhpEnabled\": false}'\n</code></pre>"},{"location":"installation/configuration/#personalizar-plantillas-pdf","title":"Personalizar Plantillas PDF","text":"<pre><code># Publicar plantillas\nphp artisan vendor:publish --tag=invoiceshelf-pdf-templates\n\n# Plantillas ubicadas en: resources/views/pdf/\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-idiomas","title":"\ud83c\udf0d Configuraci\u00f3n de Idiomas","text":""},{"location":"installation/configuration/#idioma-por-defecto","title":"Idioma por Defecto","text":"<pre><code>APP_LOCALE=es\nAPP_FALLBACK_LOCALE=en\n</code></pre>"},{"location":"installation/configuration/#agregar-nuevos-idiomas","title":"Agregar Nuevos Idiomas","text":"<pre><code># Publicar archivos de idioma\nphp artisan vendor:publish --tag=invoiceshelf-lang\n\n# Archivos ubicados en: lang/\n</code></pre>"},{"location":"installation/configuration/#configuracion-de-logging","title":"\ud83d\udcca Configuraci\u00f3n de Logging","text":""},{"location":"installation/configuration/#configurar-logs","title":"Configurar Logs","text":"<pre><code>LOG_CHANNEL=stack\nLOG_STACK=single,slack\nLOG_LEVEL=info\n\n# Configurar Slack (opcional)\nLOG_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/...\n</code></pre>"},{"location":"installation/configuration/#rotacion-de-logs","title":"Rotaci\u00f3n de Logs","text":"<pre><code># Configurar logrotate\nsudo nano /etc/logrotate.d/invoiceshelf\n</code></pre> <pre><code>/var/www/invoiceshelf/storage/logs/*.log {\n    daily\n    missingok\n    rotate 14\n    compress\n    notifempty\n    create 0644 www-data www-data\n    postrotate\n        /bin/kill -USR1 $(cat /var/run/nginx.pid) &gt; /dev/null 2&gt;&amp;1 || true\n    endscript\n}\n</code></pre>"},{"location":"installation/configuration/#configuraciones-avanzadas","title":"\ud83d\udd27 Configuraciones Avanzadas","text":""},{"location":"installation/configuration/#configurar-queue-workers","title":"Configurar Queue Workers","text":"<pre><code># Configuraci\u00f3n de colas\nQUEUE_CONNECTION=redis\nREDIS_QUEUE_CONNECTION=default\n\n# Para alta concurrencia\nQUEUE_FAILED_DRIVER=database\n</code></pre>"},{"location":"installation/configuration/#configurar-websockets-opcional","title":"Configurar Websockets (Opcional)","text":"<pre><code># Para notificaciones en tiempo real\nBROADCAST_DRIVER=pusher\nPUSHER_APP_ID=tu-app-id\nPUSHER_APP_KEY=tu-app-key\nPUSHER_APP_SECRET=tu-app-secret\nPUSHER_APP_CLUSTER=us2\n</code></pre>"},{"location":"installation/configuration/#variables-de-entorno-completas","title":"Variables de Entorno Completas","text":"<pre><code># Aplicaci\u00f3n\nAPP_NAME=\"Tu Empresa\"\nAPP_ENV=production\nAPP_KEY=base64:tu-app-key\nAPP_DEBUG=false\nAPP_URL=https://tu-dominio.com\n\n# Base de Datos\nDB_CONNECTION=mysql\nDB_HOST=127.0.0.1\nDB_PORT=3306\nDB_DATABASE=invoiceshelf\nDB_USERNAME=invoiceshelf\nDB_PASSWORD=password-seguro\n\n# Cache y Sesiones\nCACHE_DRIVER=redis\nSESSION_DRIVER=redis\nQUEUE_CONNECTION=redis\n\n# Correo\nMAIL_MAILER=smtp\nMAIL_HOST=smtp.gmail.com\nMAIL_PORT=587\nMAIL_USERNAME=tu-email@gmail.com\nMAIL_PASSWORD=tu-app-password\nMAIL_ENCRYPTION=tls\n\n# Almacenamiento\nFILESYSTEM_DISK=s3\nAWS_ACCESS_KEY_ID=tu-access-key\nAWS_SECRET_ACCESS_KEY=tu-secret-key\nAWS_DEFAULT_REGION=us-east-1\nAWS_BUCKET=tu-bucket\n\n# Seguridad\nSESSION_SECURE_COOKIE=true\nSESSION_HTTP_ONLY=true\nSESSION_SAME_SITE=strict\n</code></pre>"},{"location":"installation/configuration/#verificar-configuracion","title":"\u2705 Verificar Configuraci\u00f3n","text":""},{"location":"installation/configuration/#comandos-de-verificacion","title":"Comandos de Verificaci\u00f3n","text":"<pre><code># Verificar configuraci\u00f3n general\nphp artisan about\n\n# Verificar configuraci\u00f3n de correo\nphp artisan config:show mail\n\n# Verificar configuraci\u00f3n de base de datos\nphp artisan config:show database\n\n# Ejecutar verificaciones de salud\nphp artisan health:check\n</code></pre>"},{"location":"installation/configuration/#panel-de-administracion","title":"Panel de Administraci\u00f3n","text":"<p>Accede al panel de administraci\u00f3n para configurar:</p> <ul> <li>Empresa: Informaci\u00f3n, logo, configuraci\u00f3n fiscal</li> <li>Usuarios: Roles y permisos</li> <li>Plantillas: Personalizar facturas y correos</li> <li>Impuestos: Configurar tipos de impuestos</li> <li>M\u00e9todos de Pago: Configurar formas de pago</li> </ul>"},{"location":"installation/configuration/#configuracion-completada","title":"\ud83c\udfaf Configuraci\u00f3n Completada","text":"<p>\u00a1Tu instalaci\u00f3n de InvoiceShelf est\u00e1 ahora completamente configurada!</p> <p>Pr\u00f3ximos Pasos: - Crear tu primera factura - Configurar la API - Personalizar plantillas</p> <p>\u00bfNecesitas Ayuda? - Discord Community - GitHub Issues</p>"},{"location":"installation/requirements/","title":"\ud83d\udccb Requisitos del Sistema","text":"<p>Esta p\u00e1gina detalla todos los requisitos necesarios para ejecutar InvoiceShelf correctamente.</p>"},{"location":"installation/requirements/#requisitos-del-servidor","title":"\ud83d\udda5\ufe0f Requisitos del Servidor","text":""},{"location":"installation/requirements/#recursos-minimos","title":"Recursos M\u00ednimos","text":"Recurso M\u00ednimo Recomendado Producci\u00f3n RAM 512MB 2GB 4GB+ CPU 1 Core 2 Cores 4+ Cores Almacenamiento 1GB 5GB 20GB+ Ancho de Banda - 10Mbps 100Mbps+ <p>Escalabilidad</p> <p>Los requisitos pueden variar seg\u00fan el n\u00famero de usuarios y volumen de datos.</p>"},{"location":"installation/requirements/#php","title":"\ud83d\udc18 PHP","text":""},{"location":"installation/requirements/#version-requerida","title":"Versi\u00f3n Requerida","text":"<ul> <li>M\u00ednimo: PHP 8.2</li> <li>Recomendado: PHP 8.3+</li> </ul>"},{"location":"installation/requirements/#extensiones-requeridas","title":"Extensiones Requeridas","text":"<pre><code># Verificar extensiones instaladas\nphp -m | grep -E \"(extension_name)\"\n</code></pre>"},{"location":"installation/requirements/#extensiones-obligatorias","title":"Extensiones Obligatorias","text":"<ul> <li><code>pdo</code> - Abstracci\u00f3n de base de datos</li> <li><code>pdo_mysql</code> - Driver MySQL para PDO</li> <li><code>mbstring</code> - Manipulaci\u00f3n de strings multi-byte</li> <li><code>json</code> - Soporte para JSON</li> <li><code>curl</code> - Cliente HTTP</li> <li><code>openssl</code> - Funciones de encriptaci\u00f3n</li> <li><code>tokenizer</code> - Tokenizador de PHP</li> <li><code>xml</code> - Procesamiento XML</li> <li><code>zip</code> - Compresi\u00f3n ZIP</li> <li><code>gd</code> - Procesamiento de im\u00e1genes</li> </ul>"},{"location":"installation/requirements/#extensiones-opcionales","title":"Extensiones Opcionales","text":"<ul> <li><code>redis</code> - Cache Redis (recomendado para producci\u00f3n)</li> <li><code>imagick</code> - Manipulaci\u00f3n avanzada de im\u00e1genes</li> <li><code>intl</code> - Internacionalizaci\u00f3n</li> <li><code>bcmath</code> - Matem\u00e1ticas de precisi\u00f3n arbitraria</li> </ul>"},{"location":"installation/requirements/#configuracion-php","title":"Configuraci\u00f3n PHP","text":"<p>Configuraciones recomendadas en <code>php.ini</code>:</p> <pre><code>; Memoria\nmemory_limit = 256M\n\n; Tiempo de ejecuci\u00f3n\nmax_execution_time = 300\nmax_input_time = 300\n\n; Archivos\nupload_max_filesize = 50M\npost_max_size = 50M\nmax_file_uploads = 20\n\n; Otros\ndate.timezone = \"UTC\"\ndisplay_errors = Off (en producci\u00f3n)\nlog_errors = On\n</code></pre>"},{"location":"installation/requirements/#base-de-datos","title":"\ud83d\uddc4\ufe0f Base de Datos","text":""},{"location":"installation/requirements/#motores-soportados","title":"Motores Soportados","text":"MySQL (Recomendado)PostgreSQLSQLite <ul> <li>Versi\u00f3n M\u00ednima: 5.7</li> <li>Recomendada: 8.0+</li> <li>Configuraci\u00f3n: <pre><code>-- Configuraciones recomendadas\nSET GLOBAL innodb_file_format = 'Barracuda';\nSET GLOBAL innodb_large_prefix = 1;\n</code></pre></li> </ul> <ul> <li>Versi\u00f3n M\u00ednima: 12</li> <li>Recomendada: 15+</li> <li>Extensiones: <code>uuid-ossp</code>, <code>pg_trgm</code></li> </ul> <ul> <li>Versi\u00f3n M\u00ednima: 3.8</li> <li>Uso: Solo para desarrollo/testing</li> <li>No recomendado para producci\u00f3n</li> </ul>"},{"location":"installation/requirements/#configuracion-de-base-de-datos","title":"Configuraci\u00f3n de Base de Datos","text":""},{"location":"installation/requirements/#mysql","title":"MySQL","text":"<pre><code>-- Crear base de datos\nCREATE DATABASE invoiceshelf \nCHARACTER SET utf8mb4 \nCOLLATE utf8mb4_unicode_ci;\n\n-- Crear usuario\nCREATE USER 'invoiceshelf'@'localhost' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON invoiceshelf.* TO 'invoiceshelf'@'localhost';\nFLUSH PRIVILEGES;\n</code></pre>"},{"location":"installation/requirements/#postgresql","title":"PostgreSQL","text":"<pre><code>-- Crear base de datos\nCREATE DATABASE invoiceshelf \nWITH ENCODING 'UTF8' \nLC_COLLATE='en_US.UTF-8' \nLC_CTYPE='en_US.UTF-8';\n\n-- Crear usuario\nCREATE USER invoiceshelf WITH PASSWORD 'password';\nGRANT ALL PRIVILEGES ON DATABASE invoiceshelf TO invoiceshelf;\n</code></pre>"},{"location":"installation/requirements/#servidor-web","title":"\ud83c\udf10 Servidor Web","text":""},{"location":"installation/requirements/#opciones-soportadas","title":"Opciones Soportadas","text":"Nginx (Recomendado)ApacheServidor de Desarrollo <pre><code>server {\n    listen 80;\n    server_name example.com;\n    root /var/www/invoiceshelf/public;\n    index index.php;\n\n    # Configuraci\u00f3n optimizada\n    client_max_body_size 50M;\n\n    location / {\n        try_files $uri $uri/ /index.php?$query_string;\n    }\n\n    location ~ \\.php$ {\n        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;\n        fastcgi_index index.php;\n        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;\n        include fastcgi_params;\n\n        # Configuraciones de seguridad\n        fastcgi_param HTTP_PROXY \"\";\n        fastcgi_buffers 16 16k;\n        fastcgi_buffer_size 32k;\n    }\n\n    # Bloquear archivos sensibles\n    location ~ /\\. {\n        deny all;\n    }\n}\n</code></pre> <pre><code>&lt;VirtualHost *:80&gt;\n    ServerName example.com\n    DocumentRoot /var/www/invoiceshelf/public\n\n    # Configuraci\u00f3n optimizada\n    LimitRequestBody 52428800  # 50MB\n\n    &lt;Directory /var/www/invoiceshelf/public&gt;\n        AllowOverride All\n        Require all granted\n\n        # Configuraci\u00f3n de seguridad\n        Options -Indexes\n    &lt;/Directory&gt;\n\n    # Configuraci\u00f3n de logs\n    ErrorLog ${APACHE_LOG_DIR}/invoiceshelf_error.log\n    CustomLog ${APACHE_LOG_DIR}/invoiceshelf_access.log combined\n&lt;/VirtualHost&gt;\n</code></pre> <pre><code># Solo para desarrollo\nphp artisan serve --host=0.0.0.0 --port=8000\n</code></pre>"},{"location":"installation/requirements/#nodejs-y-npm","title":"\ud83d\udce6 Node.js y NPM","text":""},{"location":"installation/requirements/#versiones-requeridas","title":"Versiones Requeridas","text":"<ul> <li>Node.js: 18.x o superior</li> <li>NPM: 8.x o superior</li> <li>Recomendado: Node.js 20.x LTS</li> </ul>"},{"location":"installation/requirements/#verificacion","title":"Verificaci\u00f3n","text":"<pre><code># Verificar versiones\nnode --version\nnpm --version\n\n# Verificar compatibilidad\nnpx envinfo --binaries --npmPackages\n</code></pre>"},{"location":"installation/requirements/#herramientas-de-desarrollo","title":"\ud83d\udee0\ufe0f Herramientas de Desarrollo","text":""},{"location":"installation/requirements/#composer-php","title":"Composer (PHP)","text":"<pre><code># Verificar versi\u00f3n\ncomposer --version\n\n# M\u00ednimo: 2.0\n# Recomendado: 2.5+\n</code></pre>"},{"location":"installation/requirements/#git","title":"Git","text":"<pre><code># Verificar versi\u00f3n\ngit --version\n\n# M\u00ednimo: 2.0\n# Recomendado: 2.30+\n</code></pre>"},{"location":"installation/requirements/#servicios-externos","title":"\u2601\ufe0f Servicios Externos","text":""},{"location":"installation/requirements/#servicios-de-correo-opcional","title":"Servicios de Correo (Opcional)","text":"<ul> <li>SMTP: Cualquier proveedor SMTP</li> <li>Servicios Recomendados:</li> <li>Mailgun</li> <li>SendGrid</li> <li>Amazon SES</li> <li>Gmail SMTP</li> </ul>"},{"location":"installation/requirements/#almacenamiento-opcional","title":"Almacenamiento (Opcional)","text":"<ul> <li>Local: Sistema de archivos local (por defecto)</li> <li>Cloud:</li> <li>Amazon S3</li> <li>Google Cloud Storage</li> <li>DigitalOcean Spaces</li> </ul>"},{"location":"installation/requirements/#cache-opcional","title":"Cache (Opcional)","text":"<ul> <li>Redis: Recomendado para producci\u00f3n</li> <li>Memcached: Alternativa a Redis</li> <li>File Cache: Por defecto (no recomendado para producci\u00f3n)</li> </ul>"},{"location":"installation/requirements/#configuracion-de-seguridad","title":"\ud83d\udd12 Configuraci\u00f3n de Seguridad","text":""},{"location":"installation/requirements/#ssltls","title":"SSL/TLS","text":"<p>Requerido para Producci\u00f3n</p> <p>Siempre usa HTTPS en producci\u00f3n para proteger datos sensibles.</p> <pre><code># Obtener certificado SSL gratuito con Let's Encrypt\nsudo apt install certbot python3-certbot-nginx\nsudo certbot --nginx -d tu-dominio.com\n</code></pre>"},{"location":"installation/requirements/#firewall","title":"Firewall","text":"<pre><code># Configurar UFW (Ubuntu)\nsudo ufw allow ssh\nsudo ufw allow 'Nginx Full'\nsudo ufw enable\n\n# Configurar iptables (alternativa)\niptables -A INPUT -p tcp --dport 80 -j ACCEPT\niptables -A INPUT -p tcp --dport 443 -j ACCEPT\n</code></pre>"},{"location":"installation/requirements/#permisos-de-archivos","title":"Permisos de Archivos","text":"<pre><code># Configurar permisos correctos\nfind /var/www/invoiceshelf -type f -exec chmod 644 {} \\;\nfind /var/www/invoiceshelf -type d -exec chmod 755 {} \\;\nchmod -R 775 storage bootstrap/cache\nchown -R www-data:www-data /var/www/invoiceshelf\n</code></pre>"},{"location":"installation/requirements/#docker-alternativa","title":"\ud83d\udc33 Docker (Alternativa)","text":"<p>Si prefieres usar Docker, estos son los requisitos:</p>"},{"location":"installation/requirements/#requisitos-docker","title":"Requisitos Docker","text":"<ul> <li>Docker: 20.10+</li> <li>Docker Compose: 2.0+</li> <li>RAM: 2GB disponible para contenedores</li> <li>Almacenamiento: 5GB para im\u00e1genes y vol\u00famenes</li> </ul>"},{"location":"installation/requirements/#verificacion-docker","title":"Verificaci\u00f3n Docker","text":"<pre><code># Verificar instalaci\u00f3n\ndocker --version\ndocker-compose --version\n\n# Verificar que funciona\ndocker run hello-world\n</code></pre>"},{"location":"installation/requirements/#monitoreo-del-sistema","title":"\ud83d\udcca Monitoreo del Sistema","text":""},{"location":"installation/requirements/#herramientas-recomendadas","title":"Herramientas Recomendadas","text":"<ul> <li>Sistema: <code>htop</code>, <code>iotop</code>, <code>nethogs</code></li> <li>Aplicaci\u00f3n: Laravel Telescope, Laravel Horizon</li> <li>Logs: <code>tail</code>, <code>grep</code>, herramientas de an\u00e1lisis de logs</li> </ul>"},{"location":"installation/requirements/#comandos-de-verificacion","title":"Comandos de Verificaci\u00f3n","text":"<pre><code># Verificar recursos del sistema\nfree -h          # Memoria\ndf -h           # Almacenamiento\ntop             # Procesos\n\n# Verificar servicios\nsystemctl status nginx\nsystemctl status php8.2-fpm\nsystemctl status mysql\n</code></pre>"},{"location":"installation/requirements/#lista-de-verificacion","title":"\u2705 Lista de Verificaci\u00f3n","text":"<p>Antes de la instalaci\u00f3n, aseg\u00farate de tener:</p> <ul> <li>[ ] PHP 8.2+ con todas las extensiones requeridas</li> <li>[ ] Base de datos configurada (MySQL/PostgreSQL)</li> <li>[ ] Servidor web configurado (Nginx/Apache)</li> <li>[ ] Node.js 18+ y NPM</li> <li>[ ] Composer 2.0+</li> <li>[ ] SSL/TLS configurado (para producci\u00f3n)</li> <li>[ ] Permisos de archivos correctos</li> <li>[ ] Firewall configurado apropiadamente</li> </ul>"},{"location":"installation/requirements/#siguiente-paso","title":"\ud83d\udd04 Siguiente Paso","text":"<p>Una vez que hayas verificado todos los requisitos:</p> <p>\ud83d\udce5 Continuar con la Instalaci\u00f3n</p> <p>\u00bfNecesitas ayuda con alg\u00fan requisito espec\u00edfico? Consulta nuestra gu\u00eda de configuraci\u00f3n o \u00fanete a nuestro Discord.</p>"}]}